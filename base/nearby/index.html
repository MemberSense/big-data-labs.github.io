<!DOCTYPE html>
<html>
<html ng-app="baseApp">
    <head>
        <title>Georgia Location Explorer</title>
        <link rel="shortcut icon" type="image/png" href="../location/usa/ga/img/shortcut.ico" />

        <link href="../fonts/font-awesome-4.1.0/css/font-awesome.min.css" media="all" type="text/css" rel="stylesheet">

        <!--
        Removed - Adds Font Shadow. Why do we need?
        
        <link rel="stylesheet" href="//code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css">
        -->
        
        <!--
        <link rel="stylesheet" type="text/css" href="../css/base-old.css" />
        -->

        


        <link rel="stylesheet" type="text/css" href="../css/base.css" />
        <link rel="stylesheet" type="text/css" href="../css/smartWidget.1.0.css" />
        <link rel="stylesheet" href="../fonts/entypo/entypo.css" id="style-resource-2" />
      
        <!--
        <link rel="stylesheet" type="text/css" href="../css/state.css" />
        -->
        
        <link rel="stylesheet" href="http://code.ionicframework.com/1.0.0-beta.11/css/ionic.css" />
        <link rel="stylesheet" type="text/css" href="../js/slick.css" />
        <link rel="stylesheet" type="text/css" href="../js/slick-theme.css" />
        <link rel="stylesheet" type="text/css" href="../css/nearby.css" />
        <link rel="stylesheet" type="text/css" href="http://kenwheeler.github.io/slick/css/style.css" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <!-- Bing Map -->
        <script type="text/javascript" src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0"></script>

        <!-- jquery -->
        <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
        <script type="application/javascript">window.jQuery || 
        document.write(unescape('%3Cscript src="../js/jquery.min.js"%3E%3C/script%3E'))</script>
        
        <script type="text/javascript" src="http://code.ionicframework.com/1.0.0-beta.11/js/ionic.bundle.js"></script>

        <!-- history.js -->
        <script>if ( typeof window.JSON === 'undefined' ) { document.write('<script src="../js/json2.js"><\/script>'); }</script>
        <script src="../js/history.js"></script>

        <!-- <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.20/angular.js"></script> -->
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.20/angular-route.js"></script>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.20/angular-resource.js"></script>
        <script type="text/javascript" src="../js/ocLazyLoad.js"></script>
        <script type="text/javascript" src="../js/angular/app.js"></script>
        <script type="text/javascript" src="../js/angular/controllers.js"></script>
        <script type="text/javascript" src="../js/angular/filters.js"></script>
        <script type="text/javascript" src="../js/angular/services.js"></script>
        <!--<script type="text/javascript" src="../js/angular/directives.js"></script>-->
        <script type="text/javascript" src="../js/slick.min.js"></script>

        <script type="text/javascript">
            $("a").data("role", "none");
            $(document).bind("mobileinit", function() {
                $.extend(  $.mobile , {
                    //autoInitializePage: false
                    pushStateEnabled: false
                    //, ignoreContentEnabled: true
                    , keepNative: "select,input#keywordsTB,input#shovelReadyCB,input#buildingsCB,input#manufacturersCB,input#internationalCB,input#latLonOnlyCB,input#latLonOnlyCB,input#latLonOnlyCB,input#communityFeaturesCB,input#demographicsCB,label,div,ul,li,a,span"
                })
                //$.mobile.keepNative = "select,input, div, ul, li, a, span";
                 $.mobile.ajaxEnabled = false;
            });
            
        </script>
<!--
    <script src="//code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
-->    
        
        
        <!-- slabed menu -->
        <link rel="stylesheet" href="../css/smartmenu.css">
        <script src="../js/smartmenu.js"></script>
        
        
        <style>
            
        </style>
</head>
    <body>
        
        <div class="navigation" style="display:none">
          <div id="headerTitle">Georgia Economic Development</div>
        </div>
        <div id="headerNav" class="headerNavTransparent">
            <img src="../location/usa/ga/img/logo-sm.png" class="headerLogo">
            
            <div id="verticleMenu">
                <div class='smartmenu smartmenu-responsive'>
                <ul>
                   
                   <li class="has-sub"><a href='#'><span>locations</span></a>
                        <ul>
                            <li><a href='?go=buildings'><span>available buildings</span></a></li>
                            <li><a href='http://www.georgia.org/business-resources/available-industrial-grad-sites/'><span>shovel ready sites</span></a></li>
                            <li><a href='?go=places'><span>facebook places</span></a></li>
                            <li><a href='?go=parks'><span>state parks (coming soon)</span></a></li>
                            <li><a href='?go=historic'><span>historic (coming soon)</span></a></li>
                         </ul>
                   </li>
                   <li class='active has-sub'><a href='#'><span>local made</span></a>
                        <ul>
                            <!--
                            <li><a href='#'><span>Consumer Products</span></a></li>
                            -->
                            <li><a href='?go=manufacturers'><span>Local Manufacturers</span></a></li>
                            <!--
                            <li><a href='#'><span>Locally Grown</span></a></li>
                            -->
                            <li class='last'><a href='?go=international'><span>International Headquarters</span></a></li>
                         </ul>
                   </li>
                   <!--
                   <li><a href='http://georgiafacts.org/counties?mode=m'><span>communities</span></a></li>
                   -->
                   <li class='has-sub last'><a href='#'><span>volunteer</span></a>
                        <ul>
                            <li><a href='?go=allforgood'><span>find projects</span></a></li>
                         </ul>

                   </li>
                </ul>
                </div>
            </div>
            
            <!--
            <ul class="items">
              <li class="item">
                <a id="headerLinkShovelReady" href="./?go=products">consumer Products</a>
              </li>
              <li class="item">
                <a href="./?go=manufacturers">manufacturers</a>
              </li>
              <li class="item">
                <a href="./?go=international">international</a>
              </li>
              <li class="item">
                <a id="headerLinkBuildings" href="./?go=buildings">find buildings</a>
              </li>
              <li class="item">
                <a id="headerLinkShovelReady" href="./?go=shovel-ready">shovel ready</a>
              </li>
              <li class="item">
                <a href="/net/location/cities.aspx?mode=p">communities</a>
            </li>

          </ul>
          -->

          <div id="rightCornerIcons" style="float:right;margin-top:2px">
            <div id="smartOptionsDialog" class="menuRight entypo-cog" style="font-size:28px;padding-top:2px"></div>
            <div id="smartNavMenu" class="menuRight"></div>
            <div id="showMessage" class="menuRight entypo-info-circled" style="font-size:24px;padding-top:4px;"></div>
          </div>

        </div>

        <div id="iconHolder" style="display:none; float:left; min-width:28px">
            <div style="font-size: 16pt; margin:14px 4px 0 0; color:#fff"><i class="entypo-menu"></i></div> 
        </div>

        

        <div id="content">
            <ion-content overflow-scroll="true">
            <div id="smartWidget">
            
                <!-- popups -->
                <div style="position:fixed;z-index:99999;padding-top:80px;">
                    <div id="modalPopupBkgd" style="display:none; position: fixed; left: 0px; top: 0px; width: 1229px; height: 2664px; " class="modalBackground"></div>

                    <div id="settingsHolder"></div>
                    <div id="moreOptions" style="display:none;">
                        <div id="moreOptionsBox" class="modalBox">
                            <div style="margin-bottom:8px; font-size:11pt">
                                <b>Desktop Version</b><br>
                                Our Desktop Version provides additional filters,  
                                but is not formatted for mobile devices and tablets.
                            </div>
                            <div style="float: left; margin-right: 4px">
                                <a href="#" id="fullWebsiteContinueLink" class="button">Continue</a></div>
                            <div>
                                <a href="#" id="fullWebsiteCancelLink" class="button">Cancel</a></div>
                            <div style="clear: both"></div>
                        </div>
                    </div>
                </div>
                <!-- /popups -->

                <div id="footerBar" class="showOnLoad">
                    <ul id="mapToggle" style="display: none;">
                        <li class="esriLink">Esri Map</li>      
                        <li class="googleLink active">Google Map</li>
                        <li class="googleClusterLink">Google Cluster</li>
                        <li class="bingLink">Bing Map</li>
                        <li class="pdfLink" style="display:none;">PDF</li>
                        <li class="bingStaticLink" style="display:none;">Static Map</li>
                    </ul>
                </div>
                <div id="smartAngularCarouselHolder" class="smartSlideshow widgets fade" style="display:block;"></div>
                <div id="smartSlideshow" class="fade"></div>
                
                <div id="smartGallery"></div>
                
                <!-- To do: Move scrolleranchor into .js and also remove from state/index.html -->
                <div id="scrolleranchor"></div>

                <div id="smartMap"></div>
                
                
                
                <!-- &nbsp; BUGBUG: Without a character or space here, image below did not appear. 
                Works fine now. -->

                <!-- To do: change to use background to prevent loading -->
                <!-- ../location/usa/ga/img/consumer.jpg -->
                <br><br><br><br><br>
                <img src="http://grantpark.org/go/GrantPark/Images/Bkgd/627-porch.jpg" style="display:none;width:100%;position:fixed" class="hideOnLoad" />

                <!-- search -->
                <div id="mySearchPH"></div>
                <div id="mySearch" class="basicSearch" style="z-index:1;max-width:300px">
                    <form>
                        
                        <div id="modalContent">
                            <div id="accordionCtrl" ng-controller="accordionCtrl">
                                <ul>
                                    <li ng-class="rows[0].class" ng-style="rows[0].style">
                                        <ul class="optionUL">
                                            <li class="optionLabel viewOptions" id="viewOptions" ng-click="openTab('viewOptions')">{{ rows[0].text }}</li>
                                            <li class="optionFields">
                                                <a class="ion-arrow-down-b" style="float:right" href="#">&nbsp;</a>
                                                <div class="accordionTitle" ng-click="openTab('viewOptions')" ng-show="!isOpenTab('viewOptions')"> {{ accordionHeader.viewOptionsTitle }} </div>
                                                <div class="accordionContent" ng-show="isOpenTab('viewOptions')">
                                                    <!--
                                                    <input id="showMapCB" type="checkbox" class="regular-checkbox">
                                                    <label for="showMapCB">Map</label>

                                                    <input id="showListCB" type="checkbox" class="regular-checkbox">
                                                    <label for="showListCB">List</label>
                                                
                                                    <input id="showSlideshowCB" type="checkbox" class="regular-checkbox">
                                                    <label for="showSlideshowCB">Slideshow</label>

                                                    <input id="showGalleryCB" type="checkbox" class="regular-checkbox">
                                                    <label for="showGalleryCB">Gallery</label>
                                            
                                                    <input id="showCalendarCB" type="checkbox" class="regular-checkbox">
                                                    <label for="showCalendarCB">Calendar</label>

                                                    <div style="clear:both"></div>
                                                    -->
                                                    <span id="viewOptionsCtrl" ng-controller="viewOptionCtrl">
                                                        <ion-checkbox ng-repeat="item in viewOptionsList"
                                                            ng-checkd="item.checked"
                                                            ng-model="item.checked"
                                                            name="viewOptions"
                                                            ng-class="item.class"
                                                            ng-style="item.style"
                                                            ng-change="selectionChanged(item)"
                                                        />
                                                            {{ item.text }}
                                                        </ion-checkbox>
                                                    </span>
                                                </div>
                                            </li>
                                        </ul>
                                    </li>

                                    <li ng-class="rows[1].class" ng-style="rows[1].style">
                                        <ul class="optionUL">
                                            <li class="optionLabel filterOptions" id="positionOptions" ng-click="openTab('positionOptions')">{{ rows[1].text }}</li>
                                            <li class="optionFields">
                                                <div class="accordionTitle" ng-click="openTab('positionOptions')" ng-show="!isOpenTab('positionOptions')"> {{ accordionHeader.positionOptionsTitle }} </div>
                                                <div class="accordionContent" ng-show="isOpenTab('positionOptions')">
                                                    <div style="margin-bottom:16px" class="ksdrpdown" id="display_results_drpdown">
                                                    </div>
                                                    <!-- style="display:none" class="user-10" -->
                                                    <div >
                                                        <label for="adminLevel">Admin Level:</label>
                                                        <div style="clear:both"></div>

                                                        <input class="sliderInput" type="text" name="adminLevel" id="adminLevel" value="0" min="0" max="10">
                                                        <div id="adminLevelCt" class="slider">
                                                                <div class="track"></div>
                                                                <div class="knob"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </li>

                                    <li ng-class="rows[2].class" ng-style="rows[2].style">
                                        <ul class="optionUL">
                                            <li class="optionLabel mapOptions" id="mapOptions" ng-click="openTab('mapOptions')">{{ rows[2].text }}</li>
                                            <li class="optionFields">
                                                <div class="accordionTitle" ng-click="openTab('mapOptions')" ng-show="!isOpenTab('mapOptions')"> {{ accordionHeader.mapOptionsTitle }} </div>
                                                <div class="accordionContent" ng-show="isOpenTab('mapOptions')">
                                                    <span ng-controller="mapOptionCtrl">
                                                            <ion-radio ng-repeat="item in mapOptionsList"
                                                                ng-value="item.value"
                                                                ng-model="selection.optionValue"
                                                                name="mapOptions"
                                                                ng-class="item.class"
                                                                ng-style="item.style"
                                                                ng-change="selectionChanged(item)"
                                                            />
                                                                {{ item.text }}
                                                            </ion-radio>
                                                    </span>
                                                </div>
                                            </li>
                                        </ul>
                                    </li>

                                    <li ng-class="rows[3].class" ng-style="rows[3].style">
                                        <ul class="optionUL">
                                            <li class="optionLabel filterOptions" id="locationOptions" ng-click="openTab('locationOptions')">{{ rows[3].text }}</li>
                                            <li class="optionFields">
                                                <a class="ion-arrow-down-b" style="float:right" href="#">&nbsp;</a>
                                                <div class="accordionTitle" style="overflow:hidden" ng-click="openTab('locationOptions')" ng-show="!isOpenTab('locationOptions')"> {{ accordionHeader.locationOptionsTitle }} </div>
                                                <div class="accordionContent" ng-show="isOpenTab('locationOptions')">
                                                    <div id="locationSectionBox" style="padding-bottom:0px; margin-bottom:10px"></div>
                                                </div>
                                            </li>
                                        </ul>
                                    </li>

                                    <li ng-class="rows[4].class" ng-style="rows[4].style">
                                        <ul class="optionUL">
                                            <li class="optionLabel filterOptions" id="categoryOptions" ng-click="openTab('categoryOptions')">{{ rows[4].text }}</li>
                                            <li class="optionFields">
                                                <div class="accordionTitle" ng-click="openTab('categoryOptions')" ng-show="!isOpenTab('categoryOptions')"> {{ accordionHeader.categoryOptionsTitle }} </div>
                                                <div class="accordionContent" ng-show="isOpenTab('categoryOptions')">
                                                    <!-- Categories -->
                                                    <!-- Resides in state/filter.html -->
                                                    <div id="filterSection"></div>
                                                    <!-- /Categories -->
                                                </div>
                                            </li>
                                        </ul>
                                    </li>

                                </ul>

                            </div>
                        </div> <!-- end modalContentDiv -->

                        <!-- Accordian above does not work without the following clear:both-->
                        <div style="clear:both"></div>

                        <div class="list" style="margin-bottom:0px">
                            <label class="item-input">
                                <div id="searchContainer">
                                    <label class="item item-input">
                                        <i class="icon ion-search placeholder-icon" style="font-size:24px;font-weight:100;margin-left:-2px;padding-right:25px"></i>
                                        <input type="text" id="keywordsTB" placeholder="Search Filter">
                                    </label>
                               </div>
                            </label>
                       
                            <label class="item-input">

                            <!-- Float and submit do not work when buttons reside here. -->
                                
                            </label>
                        </div>

                        <!-- buttons -->
                        <div style="margin:0 14px 0">
                            <div style="float:left;">
                                <a id="searchButton" class="smartButton basicSearch searchButton" style="padding: 6px 17px 8px; margin:0 6px 14px 0;" href="#">GO</a>
                            </div>
                            <div style="float:left;">
                                <a href="" class="smartButton fullWebsiteLink desktopText" style="background:#ddd;margin:0 0 14px 0;padding: 6px 17px 8px;">Desktop Version</a>
                            </div>
                        </div>
                        <!-- /buttons -->

                    </form>
                </div>
                <!-- /search -->

                <div id="smartDetailContainer" style="position: relative;">
                   <div id="smartDetail" style="display:none;"></div>
                   <div id="overlayDetail" class="overlay">Loading Details...</div>
                </div>

                <!-- driving directions -->
                <div id="smartDirections" style="display:none;position:relative;">
                    <div class="closeIcon closeDirectionMap entypo-cancel-squared entypo-cancel-squared" style="position:absolute;right:10px;margin:8px"></div>
                    <div id="smartDirectionsDisplay" style="width:100%;background-color:aliceblue;">
                        <div style="padding:10px">
                            <p style="font-size:18pt">Total Distance: <span id="total"></span></p>
                        </div>
                    </div>
                    <div id="smartDirectionsMap" style="width:100%; min-height:500px"></div>
                    <div style="clear:both"></div>
                </div>
                <!-- /driving directions -->

                <div id="listContainer" class="widgets">
                    <div class="resultsBackground" style='position: relative;'>
                        <div class="smartMessage"></div>

                        <div class="infoDisplay">
                            <div style="display:none;" class="adminMessage user-4"></div>

                            <div>
                                GeorgiaFacts is a service of the Georgia Department of Economic Development. Our manufacturing data and international listings are imported twice a year from our national data provider and combined with input from our local partners. Please <a href="/contact/" style="white-space:nowrap">contact us</a> if you have a change or correction.

                                <!--
                                <p>For Don to reactivate:
                                <a href="javascript:$('#staticMap').attr('style','margin-left:0px;');$('#showStaticMap').hide();LoadStaticMap();$('#staticMap').append('<br>Bing static maps contain up to 18 points.<br>');return;" id="showStaticMap" target="staticMap">Show static map</a></p>
                                -->
                            </div>
                        </div>
                    </div>
                    <div id="smartCalendarHolder"></div>
                    <div id="smartList">smartList</div>
                </div>

            </div>
            </ion-content>
        </div>
        <div id="widgets"></div>

        <div ng-controller="SettingsDialog" id="settingsDialog">
            <script id="my-modal.html" type="text/ng-template">
                <ion-modal-view id="optionsDlg" style="max-width:500px; margin-left: auto; margin-right: auto; left: 0; right: 0">
                    <ion-header-bar style="background:#ccc">
                        <h1 class="title">Display</h1>
                    </ion-header-bar>
                    <ion-content overflow-scroll="true" style="margin: 10px;">
                    <form id="settingsDialogForm" class="settingsWide">
                    </form>
                    </ion-content>

                    <ion-footer-bar style="background:#ddd">
                        <div style="float:left; margin-right:6px">

                            <!-- search -->
                            <div class="basicSearch" style="max-width:250px">
                                <form>
                                    <div id="searchContainer">

                                        <div style="margin:0 8px 8px 0;position:relative;">
                                            <div class="searchIcon entypo-search"></div>
                                            <input type="text" value="" id="keywordsTB" onblur="SearchFormTextCheck(this, 0)" onfocus="SearchFormTextCheck(this, 1)" maxlength="200" style="min-width:250px; height:30px; padding-left: 33px;" onkeypress="return SearchEnter(event);" /> 
                                        </div>

                                    </div>

                                </form>
                            </div>
                            <!-- /search -->
                        </div>

                        <div style="float:left; margin-right:6px">
                            <a id="searchButton" class="smartButton basicSearch searchButton" style="padding: 6px 17px 8px; margin:0 0 14px 0;" href="#">GO!</a>
                        </div>
                        
                    </ion-footer-bar>

                </ion-modal-view>
            </script>
        </div>

        <div id="overlay">Loading Feed...</div>
        <!--<div style="display:none" ng-controller="LoadingCtrl"></div>-->
        

        <script src="../js/util.js" type="text/javascript"></script>
        <script src="../js/smartWidget.1.0.js" type="text/javascript"></script>
        <script src="../js/jquery.unveil.min.js" type="text/javascript"></script>
        <script type="text/javascript" src="../js/markercluster.js"></script>
        <script type="text/javascript" src="../js/recall.js"></script>
        <script type="text/javascript" src="../js/facts.js"></script>

        <!-- When placed before styles above, knobs are not set. -->
        <link rel="stylesheet" type="text/css" href="../slider/css/switch.css" media="screen" />

<!-- From slider.html -->
<script type="text/javascript">
  // Utilizes Mobile Range Slider and jQuery Cookie Plugin in smartWidget js.
  // Issue still occurs after moving into smartWidget js.  50% of loads don't position knobs.
  //alert("slider 1");
    var displayDropdown = null;
    $(document).ready(function () {
        //alert("slider 2");
        
        $("#sliderX, .settingsDoneButton").click(function (e) {
            $('#settingsHolder').hide();
            $('#modalPopupBkgd').hide();
            $('#searchContainer').show();
            $('#widgetTabsHolder').insertAfter($('#widgetTabsPosition'));
            //$('body').css('margin-top', '92px');
            e.preventDefault();
        });

        //if (location.host == 'localhost') {
            $('#sliderOptions').show();
            $("#fbSettings").show(); // Since user-4 class is not available without local database.
            $("#allforgoodSettings").show(); // Since user-4 class is not available without local database.
        //}
        //console.log($.cookie('display_results'));
        displayDropdown = $("#display_results_drpdown").divBasedSelectBox({
            options : {
                "below" : "Stacked",
                "right-overlap" : "Beside Map",
            },
            selected : typeof $.cookie('display_results') !== 'undefined' && $.cookie('display_results').hasOwnProperty("selected") ? $.cookie('display_results').selected : "right-overlap"
        }).change(function() {
            var display_results = {};
            display_results["selected"] = $(this).data("value");
            display_results["html"] = $(this).data("text");
            setMapPosition(display_results);
            
        });
    });
</script>


    </body>
</html>
