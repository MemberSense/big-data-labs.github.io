<!DOCTYPE html>
<html>
<head>
<title>GeorgiaFacts - Manufacturing Directory, Available Buildings, International Trade, County Data</title>
<meta name="keywords" content="Georgia Manufacturers, International Businesses in Georgia, County Factsheets, Georgia Department of Economic Development, Industry and Trade, Georgia.org" />
<link rel="shortcut icon" type="image/png" href="/Facts/images/icons/GeorgiaOrgFavicon.ico" />

    <link rel="stylesheet" type="text/css" href="../css/base-old.css" />
    <link rel="stylesheet" type="text/css" href="../css/base.css" />
    <link rel="stylesheet" type="text/css" href="../css/smartWidget.1.0.css" />
    <link rel="stylesheet" type="text/css" href="../css/state.css" />
    <!--link rel="stylesheet" type="text/css" href="../css/state-dark.css" / -->
    <link rel="stylesheet" href="../fonts/entypo/entypo.css"  id="style-resource-2">

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" type="text/javascript"></script>
    <script type="application/javascript">
        window.jQuery || document.write(unescape('%3Cscript src="../js/jquery.1.8.3.min.js"%3E%3C/script%3E'))
    </script>
    <script type="text/javascript" src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />

    <style type='text/css'>
    h1, h2, h3, h4 {
        font-family: 'PT Sans', sans-serif;
        font-weight: normal;
        color: #539DC2;
        color: #0168ab;
        margin-top: 10px;
        margin-bottom: 0px;
        line-height: 40px;
    }
    h1 {
      font-size: 28px;
      margin-bottom:10px;
      font-weight: normal;
    }
    #smartTop {
        background:#666; color:#fff; 
        border-radius: 20px 20px 0px 0px;
        overflow:hidden; padding:4px 0 0 0; 
        z-index:9999999;
        position: relative;
        width:100%;
    }
    .menuTabBgColor { background-color: #333 !important; }
    
    /* Also impacts Map and Satellite links
    .gm-style > div > div {
        min-width:200px;
    }
    */
    .menuList {
        position: static;
        
    }
    .menuList li {
        float:left;
    }
    .typeCB {
        white-space: nowrap;
        float:left;
        margin-right: 8px;
    }
    #headerLogo {
        margin-top: 4px;
        width:150px;
    }
    .lowerHolder {
        margin-top: 6px;
        padding-top: 8px;
        clear:both;
    }
    #footerBar {
        position: fixed;
        bottom: 0px;
        background: #333;
        z-index: 999999;
        width:100%;
        padding-top: 4px;
    }
    #mapToggle {
        margin:2px 14px 2px 14px;
        height:20px;
        background: #000;
        color:#fff;
        border-radius: 7px;
        overflow: visible;
        max-widthX:170px; /* Test on Firefox if shortening */
    }
    #mapToggle li {
        float:left;
        font-size: 10pt;
        padding:4px 8px 4px 8px;
    }
    #mapToggle li:hover {
        background: #ccc;
        cursor: pointer;
    }
    #mapToggle li.active {
        background: #555;
        color: #fff;
        border-radius: 4px;
    }
    #mapToggle { height:30px; }
    #mapToggle li { height:22px; line-height: 21px}

    .search1:before {
      color: #666;
      content: "\1F50D";
      font-family: "entypo";
      line-height: 0;
      position: absolute;
      text-align: center;
      top: 50%;
      z-index: 1;
    }
    #smartDirectionsXXX{display:none; opacity:1.8; background:rgba(0,0,0,0.5);color:#fff;font-size:18px;text-align:center;position: absolute;z-index:100;
        left:0px; top:0px;width:100%;height:100%;
    }
    #sectionManufacturers {
        position: relative;
    }
    #resultsTopX {height:0px; display:none;} /* DELETE THIS AND DIV */


    #rightCornerIcons > div {
        float:left;
        padding-right:8px;
        color:#fff;
        cursor:pointer; 
    }
    @media (min-width:801px){ /* 801 and more */
        #smartTopXXX { 
            -webkit-box-shadow: 0px 6px 18px rgba(200, 200, 200, 0.75);
            -moz-box-shadow:    0px 6px 18px rgba(200, 200, 200, 0.75);
            box-shadow:         0px 6px 18px rgba(200, 200, 200, 0.75);
        }
    }
    @media (max-width:950px){ /* 950 and less */
        .searchTabs ul li { font-size: 10pt; }
    }
    bodyX{margin-top:0px;} /* Didn't fix.  Effort to prevent gap from appearing at top occasionally when resizing. */
    /* Narrow > Map > Listings > Go wide */

    html{padding-bottom:32px;} 

    #twoColumns {
        position:relative;
        background:#fff;
        min-height:400px;
    }
    #mapColumn {
        overflow: hidden;
        position:absolute;
    }
    #mainColumn {
        float:right;
        min-width:40%;
        max-width:35%;
        position:relative;
        /*
        position: absolute;
        right:20px;
        */
        z-index:2;
        margin-top:10px;
        margin-right:20px;
        -webkit-transition-duration: 0.5s;
        -moz-transition-duration: 0.5s;
        -o-transition-duration: 0.5s;
        transition-duration: 0.5s;
    }
    @media (min-width:801px){ /* 801 and more */
      #mainColumn {
        margin-top: 40px;
        margin-bottom: 40px; /* Allows for overlap by footer */
      }
    }

    @media (max-width:800px){ /* 800 and less */
        #typeTabHolder { display:none; }
        #mapColumn { position:relative;width:100%;max-width:100%;margin-left:0px; }
        #mainColumn { width:100%;max-width:100%; position:relative; margin:0px; }
        #twoColumns {background:transparent; min-height:0px; }
        #smartTop { position:fixed; z-index:9999999; top:0; left:0; right:0; border-radius:0px; }
        #resultsTopX {height:92px;}
        body{margin-top:92px;}
        #content{ padding:0px;}
        #settingsHolder { width:100%; }
        #closeSmartSearch { display:none;}
    }
    </style>
    <!-- smart filter css starts here -->

	<style type='text/css'>

	.filterText {
		font-family: 'Helvetica Neue', Helvetica, Arial, 'Liberation Sans', FreeSans, sans-serif;
		font-size: 16px;
		font-style: normal;
		font-variant: normal;
		overflow:visible;
		position: relative;
	}
	.filter {
		display: inline-block;
		cursor: pointer;
		border-radius: 6px;
		border: 1px solid #d0d5cb;
		display: inline-block;
		line-height: 1.5em;
		padding: 5px 10px 5px 10px;
		vertical-align: baseline;
        background-color: #fff;
		color: #121a0d;
		font-weight: bold;
	}
	.filter:hover {
		background: #f6f6f6;
	}
	.filterBubbleHolder {
		position:relative;
		overflow:visible;
		margin-topXX:12px;
	}
	.filterBubble {
		-webkit-transition: 0.3s ease-in-out;
		-moz-transition: 0.3s ease-in-out;
		-o-transition: 0.3s ease-in-out;
		transition: 0.3s ease-in-out;
		-webkit-transition-property: width;
		-moz-transition-property: width;
		-o-transition-property: width;
		transition-property: width;
		display: block;
		-webkit-box-shadow: 0px 2px 8px rgba(0,0,0,0.15);
		-moz-box-shadow: 0px 2px 8px rgba(0,0,0,0.15);
		box-shadow: 0px 2px 8px rgba(0,0,0,0.15);
		border-radius: 6px;
		border: 1px solid #d0d5cb;
		position: absolute;
        top:10px;
        left:-10px;
        z-index: 2;
		background: #fff;
		padding: 15px;
		vertical-align: baseline;
        min-width: 324px;
	}
	.filterUL {
		-webkit-column-count: 2;
		-moz-column-count: 2;
		list-style: none;
		padding-left: 0;
	}
	.filterUL li.selected a {
		color: #76cc1e;
		font-weight: bold;
	}
	.filterUL li {
		padding: 8px;
	}
	.filterUL li:hover {
		background-color: #f6f6f6;
        cursor: pointer;
	}
    .filterUL li a:hover {
        text-decoration: none;
    }
	.uparrow {
		width: 0;
		height: 0;
		border-left: 10px solid transparent;
		border-right: 10px solid transparent;
		position: absolute;
		margin-left: -10px;
	}
	.uparrow-grey {
		border-bottom: 10px solid #d0d5cb;
		z-index: 100;
	}
	.uparrow-white {
		border-bottom: 10px solid #fff;
		margin-top: 1px;
		z-index: 101;
	}

    #doneLatLng {
        background: url('../img/icons/circle-down.png');
        width:19px;
        height:19px;
        cursor: pointer;
    }
	</style>
    <!-- smart filter css ends here -->
</head>

<body>

<div id="resultsTopX"><!-- Must contain content for scrollIntoView -->&nbsp;</div>
<div id="smartWidget">

<div id="footerBar">
    <ul id="mapToggle">            
        <li class="googleLink active">Google Map</li>
        <li class="bingLink">Bing Map</li>
    </ul>
</div>

<div id="typeTabHolder">
    <div class="searchTabs siteTabs">
        
        <nav style="overflow:hidden;">
            <ul><!--
                <li onclick="loadResults('w');" id="welcomeTab">Welcome</li>
                <li onclick="loadResults('b');" id="buildingsTab">Available Buildings</li>
                <li onclick="loadResults('m');" id="manufacturersTab">Manufacturers</li>
                <li onclick="loadResults('i');" id="internationalTab">International</li>
                <li onclick="loadResults('c');" id="countiesTab">County Factsheets</li>-->
                <li id="welcomeTab">Welcome</li>
                <li id="buildingsTab" data-checkbox="#buildingsCB">Available Buildings</li>
                <li id="manufacturersTab" data-checkbox="#manufacturersCB">Manufacturers</li>
                <li id="internationalTab" data-checkbox="#internationalCB">International</li>
                <li id="countiesTab" data-checkbox="#placesCB">County Factsheets</li>
                <li><div id="rightIconsTop"></div></li>
            </ul>
        </nav>
    </div>
</div>

    <div id="content">
<div style="clear: both"></div>

        <!-- Reactivate as seven in one row -->
        <!--div id="smartGallery" style="overflow:hidden"></div-->

        <div id="iconHolder" style="display:none; float:left; min-width:28px">
            <div style="font-size: 16pt; margin:14px 4px 0 0; color:#fff"><i class="entypo-menu"></i></div> 
        </div>

        <div id="modalPopupBkgd" style="display:none; position: fixed; left: 0px; top: 0px; z-index: 10000; width: 1229px; height: 2664px; " class="modalBackground">
        </div>
        <div id="moreOptions" style="display:none; position:fixed; top:40%; z-index:100001; width:100%">
            <div id="moreOptionsBox" class="modalBox">
                <div style="margin-bottom:8px; font-size:11pt">
                    You are leaving our mobile search page.
                </div>
                <div style="float: left; margin-right: 4px">
                    <a href="#" id="fullWebsiteContinueLink" class="button">Continue</a></div>
                <div>
                    <a href="#" id="fullWebsiteCancelLink" class="button">Cancel</a></div>
                <div style="clear: both">
                </div>
                <!--
                <hr />
                If you have a request for a new filter on the mobile search page, <a style="color: #afa;"
                    href="http://dreamstudio.com/account/write/8" target="contact" style="white-space: nowrap">
                    Let us know</a>.
                -->
            </div>
        </div>

        <!-- 2 columns -->
        <div id="twoColumns">

            <div id="mapColumn" style="width:100%">
                <div id="scrolleranchor"></div>
                <div id="smartMap" style="display:none"></div>
            </div>

            <div id="mainColumn">
                
                <!-- widget header -->
                    <div id="smartTop">

                        <div style="margin:0 0 5px 5px;float:left">
                            <a href="/"><img id="headerLogo" alt="" /></a>
                        </div>

                        <div id="rightIconsPosition"></div>

                        <div id="rightCornerIcons" style="float:right;padding-top:4px;">
                            
                            <div id="showMobileMenu" class="menuRight entypo-menu" style="font-size: 30px;"></div>
                            <div id="showSettings" class="showSettings menuRight entypo-cog" style="display:none;font-size: 24px;padding-top:2px"></div>
                            <div id="showMessage" class="menuRight entypo-info-circled" style="font-size: 24px;display:none;"></div>
                            <div id="closeSmartSearch" class="entypo-cancel-squared" style="font-size: 23px;padding-top:2px"></div>

                        </div>
                        
                        <div style="clear:both"></div>

                        <div id="widgetTabsPosition"></div>
                        <div style="clear:both" id="widgetTabsHolder" class="searchTabs">
                            <nav style="overflow:hidden;">
                                <ul id="widgetTabs">
                                    <li class="searchLink active">Search</li>
                                    <li class="mapLink">Map</li>
                                    <li class="listingsLink">Listings</li>
                                    <li class="slideshowLink">Images</li>
                                    <li class="directionsLink" style="display:none">Directions</li>
                                </ul>
                            </nav>
                        </div>

                    </div>
                <!-- /widget header -->

                <div id="menuHolder" style="display:none; text-align:center">
                    
                    <div class="menuButtons" style="padding:14px;">
                        <div class="closeMenu closeIcon entypo-cancel-squared"></div>
                        <div style="clear:both"></div>

                        <a class="button searchButtonGreen" href="./">New Search</a><br>
                        <a class="button" id="showAboutText" href="">About Our Data</a><br>
                        <a class="button" href="http://georgiafacts.org/counties">County Factsheets</a><br>        
                        <a class="button" href="http://georgiafacts.org/account">My Account</a><br>
                        <div style="font-size:13pt;margin-bottom:8px">Search in Full Site:</div>
                        <a class="button burgandy" href="http://georgiafacts.org/manufacturers">Manufacturers</a><br>
                        <a class="button burgandy" href="http://georgiafacts.org/buildings">Available Buildings</a><br>
                        <a class="button burgandy" href="http://georgiafacts.org/international">International Companies</a><br>
                        <a class="button" href="http://georgia.org">Georgia.org</a>
                    </div>
                </div>

                <div id="settingsHolder">settingsHolder</div>

                <div id="mySearchTop"></div>

                <div class="smartMessage">

                    <p>For Don to reactivate:
                    <a href="javascript:$('#staticMap').attr('style','margin-left:0px;');$('#showStaticMap').hide();LoadStaticMap();$('#staticMap').append('<br>Bing static maps contain up to 18 points.<br>');return;" id="showStaticMap" target="staticMap">Show static map</a></p>
                </div>

                <!-- driving directions -->
                <div id="smartDirections" style="display:none;position:relative">
                    <div class="closeIcon closeDirectionMap entypo-cancel-squared entypo-cancel-squared" style="position:absolute;right:10px;margin:8px"></div>
                    <div id="directionsPanel" style="width:100%;background-color:aliceblue;">
                        <div style="padding:10px">
                            <p style="font-size:18pt">Total Distance: <span id="total"></span></p>
                        </div>
                    </div>
                    <div id="map-canvas" style="width:100%; min-height:500px"></div>
                    <div style="clear:both"></div>
                </div>

                <!-- /driving directions -->


                <!-- search -->
                <div id="mySearch" class="basicSearch" style="position:relative">
                    <form>
                        <div id="searchContainer">

                            <div style="margin-bottom:8px;">
                                <a class="searchButton goButton searchIcon entypo-search" href="#">&nbsp;</a>

                                <div style="overflow:hidden;" >
                                    
                                    <input type="text" value="" id="keywordsTB" onblur="SearchFormTextCheck(this, 0)" onfocus="SearchFormTextCheck(this, 1)" maxlength="200" style="width:100%; height:32px; " onkeypress="return SearchEnter(event);" /> 
                                    
                                   
                                </div>
                            </div>

                        
                            

                            <div class="sectionTitle">What...</div>                            
                            <div id="dimensionStatus">
                                
                                    <input id="buildingsCB" type="checkbox" class="regular-checkbox">
                                    <label for="buildingsCB">
                                    Available Buildings
                                    </label>
                                    <div style="clear:both"></div>
                            </div>
                            
                            <div class="sectionBox" id="sectionDimension" style="display:none">

                                <div class="sectionContent">
                                    <div class="fieldtitle">
                                    Minimum Size:</div>
                                    <input name="minsize" type="text" maxlength="10" id="minsize" style="width: 100px;" />
                                    square feet<br />
                                    <span class="fieldtitle">Maximum Size:</span>
                                    <input name="maxsize" type="text" maxlength="10" id="maxsize" style="width: 100px;" />
                                    square feet<br />
                                    <span class="fieldtitle">Ceiling Height:&nbsp;</span>
                                    <input name="ceiling" type="text" maxlength="4" id="ceiling" style="width: 60px;" />
                                    feet<br />
                                </div>
                            </div>

                            <div id="manufacturersPanel">
                            
                                <input id="manufacturersCB" type="checkbox" class="regular-checkbox">
                                <label for="manufacturersCB">Manufacturing Directory</label> 

                                <div style="clear:both"></div>

                            </div>

                            <input id="internationalCB" type="checkbox" class="regular-checkbox">
                            <label for="internationalCB">International</label>
                            <div style="clear:both"></div>

                            <div class="sectionBox" id="sectionManufacturers">
                                <div class="sectionContent" style="overflow:auto">
                                    <div style="margin-bottom:8px"><b>Type of production:</b></div>
                                    <div class="typeCB">
                                    <input id="ctl00_ContentPlaceHolder1_CategoriesCBL_0" type="checkbox" name="ctl00$ContentPlaceHolder1$CategoriesCBL$0"
                                        value="3364,481,4881" /><label for="ctl00_ContentPlaceHolder1_CategoriesCBL_0">Aerospace</label>
                                    </div>
                                    <div class="typeCB">
                                    <input id="ctl00_ContentPlaceHolder1_CategoriesCBL_1" type="checkbox" name="ctl00$ContentPlaceHolder1$CategoriesCBL$1"
                                        value="325411,3391" /><label for="ctl00_ContentPlaceHolder1_CategoriesCBL_1">Biomedical</label>
                                    </div>
                                    <div class="typeCB">
                                    <input id="ctl00_ContentPlaceHolder1_CategoriesCBL_2" type="checkbox" name="ctl00$ContentPlaceHolder1$CategoriesCBL$2"
                                        value="322" /><label for="ctl00_ContentPlaceHolder1_CategoriesCBL_2">Paper</label>
                                    </div>
                                    <div class="typeCB">
                                    <input id="ctl00_ContentPlaceHolder1_CategoriesCBL_3" type="checkbox" name="ctl00$ContentPlaceHolder1$CategoriesCBL$3"
                                        value="321" /><label for="ctl00_ContentPlaceHolder1_CategoriesCBL_3">Wood Products</label>
                                    </div>
                                    <div class="typeCB">
                                    <input id="ctl00_ContentPlaceHolder1_CategoriesCBL_4" type="checkbox" name="ctl00$ContentPlaceHolder1$CategoriesCBL$4"
                                        value="334,335" /><label for="ctl00_ContentPlaceHolder1_CategoriesCBL_4">Computers and
                                            Electronics</label>
                                    </div>
                                    <div class="typeCB">
                                    <input id="ctl00_ContentPlaceHolder1_CategoriesCBL_5" type="checkbox" name="ctl00$ContentPlaceHolder1$CategoriesCBL$5"
                                        value="3361,3362,3363" /><label for="ctl00_ContentPlaceHolder1_CategoriesCBL_5">Motor
                                            Vehicles</label>
                                    </div>
                                    <div class="typeCB">
                                    <input id="ctl00_ContentPlaceHolder1_CategoriesCBL_6" type="checkbox" name="ctl00$ContentPlaceHolder1$CategoriesCBL$6"
                                        value="337" /><label for="ctl00_ContentPlaceHolder1_CategoriesCBL_6">Furniture</label>
                                    </div>
                                    <div class="typeCB">
                                    <input id="ctl00_ContentPlaceHolder1_CategoriesCBL_7" type="checkbox" name="ctl00$ContentPlaceHolder1$CategoriesCBL$7"
                                        value="323" /><label for="ctl00_ContentPlaceHolder1_CategoriesCBL_7">Printing</label>
                                    </div>
                                    <div class="typeCB">
                                    <input id="ctl00_ContentPlaceHolder1_CategoriesCBL_8" type="checkbox" name="ctl00$ContentPlaceHolder1$CategoriesCBL$8"
                                        value="311" /><label for="ctl00_ContentPlaceHolder1_CategoriesCBL_8">Food</label>
                                    </div>
                                </div>
                            </div>

                            <div class="optionAround placesSelect" style="display:none">
                                
                                    <input id="placesCB" type="checkbox" class="regular-checkbox">
                                    <label for="placesCB">
                                    Nearby Places (FB)
                                </label>
                            </div><div style="clear:both"></div>


                            <!-- Location -->
                            

                            <div class="sectionBox" id="locationSectionBox" style="padding-bottom:0px; margin-bottom:10px">
                                

                                <!--
                                <dl class="tabs" id="locTabs" data-tab>
                                  <dd class="active" id="nearTab"><a href="#panel1">Location</a></dd>
                                  <dd><a href="#panel2" id="zipTab">Zip</a></dd>
                                  <dd><a href="#panel3">County</a></dd>
                                  <dd><a href="#panel4">City</a></dd>
                                </dl>
                                -->

                                <div class="tabs-content">

                                  
                                  <div class="content active" id="panel1">
                                      
                                        <!-- smart filter starts here -->
                                            <div class="filterText">
                                                Location
                                                <div class="filter"><span class="filterSelected" data-selected="all">Entire State</span><i class="entypo-down-open" style="font-size:13pt"></i></div>
                                                <select style="display:none;" name="woe_id" id="woe_id">
                                                    <option value="all" selected="selected">Entire State</option>
                                                    <option value="current">My Current Location</option>
                                                    <option value="custom">Custom Lat/Lon</option>
                                                    <option value="zip">Search by Zip</option>
                                                    <option value="county">Search by County</option>
                                                    <option value="city">Search by City</option>
                                                </select>
                                                <div class="filterBubbleHolder" style="display:none;">
                                                    <div class="uparrow uparrow-grey" style="left: 100px;"></div>
                                                    <div class="uparrow uparrow-white" style="left: 100px;"></div>

                                                    <div class="filterBubble">
                                                        <ul class="filterUL">
                                                            <li class="selected" data-id="all"><a href="#">Entire State</a></li>
                                                            <li data-id="current"><a style="white-space:nowrap" href="#">My Current Location</a></li>
                                                            <li data-id="custom"><a href="#">Custom Lat/Lon</a></li>
                                                            <li data-id="zip"><a href="#">Search by Zip</a></li>
                                                            <li data-id="county"><a href="#">Search by County</a></li>
                                                            <li data-id="city"><a href="#">Search by City</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            
                                            <br style="clear:both">
                                            <!-- smart filter ends here -->

                                        <!--<span class="ksr-select ksr-select-light has-options filter location" id="location_filter">
                                            <span class="ss-icon ss-navigatedown"></span>
                                            <span class="ss-icon ss-delete hide ksr-popover-excluded"></span>-->

                                            <!--
                                            Adding data-native-menu="false" seemed to mostly resolve occasionaly opening on Android S4. But still occasionally flaky.  One person found 
                                            $("#container").show().
                                            $("#container").append("<select><option value="1">Option1</option></select>"); 
                                            https://code.google.com/p/android/issues/detail?id=10280

                                            <select class="normal_type" name="woe_id" id="woe_id" data-native-menu="false">
                                                <optgroup label="Location">
                                                    <option value="1" selected="selected">Entire State</option>
                                                    <option value="2">Near My Current Location</option>
                                                    <option value="3">Custom Latitude/Longitude</option>
                                                    <option value="zip">Search by Zip</option>
                                                    <option value="county">Search by County</option>
                                                    <option value="city">Search by City</option>
                                                </optgroup>
                                                <optgroup label="Major Cities">
                                                    <option value="">Atlanta, GA</option>
                                                    <option value="">Savannah, GA</option>
                                                    <option value="">Athens, GA</option>
                                                    <option value="">Macon, GA</option>
                                                    <option value="">Marietta, GA</option>
                                                    <option value="">Augusta, GA</option>
                                                    <option value="">Decatur, GA</option>
                                                </optgroup>
                                            </select>
                                            -->
                                            <!--
                                            <select class="normal_type" name="woe_id" id="woe_id" data-native-menu="false">
                                                <option value="1" selected="selected">Entire State</option>
                                                <option value="2">Near My Current Location</option>
                                                <option value="3">Custom Latitude/Longitude</option>
                                                <option value="zip">Search by Zip</option>
                                                <option value="county">Search by County</option>
                                                <option value="city">Search by City</option>
                                            </select>-->
                                            
                                        <!--</span><br><br>-->
                                        <!--
                                        <div id="currentLoc" style="float: left;">
                                            <a id="entireState" class="button active" href="#">Entire State</a>
                                            <a id="useCurrent" class="button" href="#">My Current Location</a>
                                            <a id="useCustomLatLon" class="button" href="#">Other</a>
                                        </div>
                                        -->
                                        <!--<div style="clear:both"></div>-->

                                        <div id="locationBar" style="cursor:pointer;">
                                            <div id="locationStatus" class="sectionStatus" style="display:none;">
                                                <div class="setLocation">

                                                    <table><tr><td>
                                                        <div id="locText" style="margin:3px 4px 0 0; color:#999">Search Entire State</div>
                                                    </td><td>
                                                        <div style="margin-right:10px">
                                                            <img id="locationArrow" src="../img/icons/circle-next.png" style="width:20px;height:20px" />
                                                        </div>
                                                        </td></tr>
                                                    </table>
                                                    
                                                </div>
                                            </div>
                                        </div>

                                        <div id="latLonFields" style="display:none">

                                            <div id="coordFields" style="float:left;min-height:40px">
                                                <div style="float:left; margin-right: 6px">
                                                    Latitude<br>
                                                    <input id="lat" type="text" style="width: 66px; margin-top: 0px" /><br>
                                                    <input id="currentlat" type="text" style="display:none; width: 66px; margin-top: 0px" />
                                                </div>
                                                <div style="float:left; margin-right: 6px">
                                                    Longitude<br>
                                                    <input id="lon" type="text" style="width: 66px; margin-top: 0px" /><br>
                                                    <input id="currentlon" type="text" style="display:none; width: 66px; margin-top: 0px" />
                                                </div>
                                            </div>

                                            <div id="distanceInNear" style="float: left;"></div>

                                            <div id="distanceField" style="float: left; margin-right: 4px; min-height:50px">
                                            Distance<br>
                                                <select id="distance" style="margin-left: 0px">
                                                    <option value="">Distance...</option>
                                                    <option value="3">Within 3 Miles</option>
                                                    <option value="5">Within 5 Miles</option>
                                                    <option value="10">Within 10 Miles</option>
                                                    <option value="15">Within 15 Miles</option>
                                                    <option value="20">Within 20 Miles</option>
                                                    <option value="25">Within 25 Miles</option>
                                                    <option value="30">Within 30 Miles</option>
                                                    <option value="40">Within 40 Miles</option>
                                                    <option value="50">Within 50 Miles</option>
                                                    <option value="60">Within 60 Miles</option>
                                                    <option value="75">Within 75 Miles</option>
                                                    <option value="100" selected="selected">Within 100 Miles</option>
                                                    <option value="150">Within 150 Miles</option>
                                                    <option value="200">Within 200 Miles</option>
                                                    <option value="300">Within 300 Miles</option>
                                                    <option value="400">Within 400 Miles</option>
                                                    <option value="500">Within 500 Miles</option>
                                                </select>
                                            </div>
                                            <div id="loadingLatLon"></div>
                                            <div id="currentButtons" style="float:left; margin: 8px 0 0 0">
                                                <div id="doneLatLng" href="#"></div>
                                                
                                            </div>
                                        </div>
                                    
                                        <div id="zipFields" style="display:none">
                                    
                                            <div style="float:left; margin-right:6px; min-height:50px">
                                                Zip code<br>
                                                <input id="zip" type="text" value="" style="width: 100px; margin-top: 0px" title="Enter zip code" />
                                            </div>
                                            <div id="distanceInZip" style="float: left;"></div>
                                            <div class="confirmationButtons" style="float:left; margin-top: 5px">
                                                <a id="doneZip" class="button orangeButton" href="#">apply</a>
                                                
                                            </div>
                                        
                                        </div>
                                  
                                  
                                  <!--
                                  <div class="content" id="panel2">
                                    
                                        <div style="float:left; margin-right:6px; min-height:50px">
                                            Zip code<br>
                                            <input id="zip" type="text" value="" style="width: 100px; margin-top: 0px" title="Enter zip code" />
                                        </div>
                                        <div id="distanceInZip" style="float: left;"></div>
                                        <div class="confirmationButtons" style="float:left; margin-top: 5px">
                                            <a id="doneZip" class="button orangeButton" href="#">apply</a>
                                            
                                        </div>
                                    
                                  </div>-->
                                  <div id="countyFields" style="display:none;">
                                    
                                    <select size="5" name="countyids" multiple="multiple" id="countyids" style="width:140px;font-size:14px;float:left;margin:0 8px 10px 0">
                                        <option selected="selected" value="0">All Counties</option>
                                        <option value="13001">Appling</option>
                                        <option value="13003">Atkinson</option>
                                        <option value="13007">Baker</option>
                                        <option value="13009">Baldwin</option>
                                        <option value="13013">Barrow</option>
                                        <option value="13015">Bartow</option>
                                        <option value="13019">Berrien</option>
                                        <option value="13021">Bibb</option>
                                        <option value="13023">Bleckley</option>
                                        <option value="13025">Brantley</option>
                                        <option value="13027">Brooks</option>
                                        <option value="13029">Bryan</option>
                                        <option value="13031">Bulloch</option>
                                        <option value="13033">Burke</option>
                                        <option value="13035">Butts</option>
                                        <option value="13037">Calhoun</option>
                                        <option value="13039">Camden</option>
                                        <option value="13043">Candler</option>
                                        <option value="13045">Carroll</option>
                                        <option value="13047">Catoosa</option>
                                        <option value="13051">Chatham</option>
                                        <option value="13055">Chattooga</option>
                                        <option value="13057">Cherokee</option>
                                        <option value="13059">Clarke</option>
                                        <option value="13063">Clayton</option>
                                        <option value="13067">Cobb</option>
                                        <option value="13069">Coffee</option>
                                        <option value="13071">Colquitt</option>
                                        <option value="13073">Columbia</option>
                                        <option value="13075">Cook</option>
                                        <option value="13077">Coweta</option>
                                        <option value="13079">Crawford</option>
                                        <option value="13081">Crisp</option>
                                        <option value="13083">Dade</option>
                                        <option value="13085">Dawson</option>
                                        <option value="13087">Decatur</option>
                                        <option value="13089">DeKalb</option>
                                        <option value="13091">Dodge</option>
                                        <option value="13093">Dooly</option>
                                        <option value="13095">Dougherty</option>
                                        <option value="13097">Douglas</option>
                                        <option value="13099">Early</option>
                                        <option value="13103">Effingham</option>
                                        <option value="13105">Elbert</option>
                                        <option value="13109">Evans</option>
                                        <option value="13111">Fannin</option>
                                        <option value="13113">Fayette</option>
                                        <option value="13115">Floyd</option>
                                        <option value="13117">Forsyth</option>
                                        <option value="13119">Franklin</option>
                                        <option value="13121">Fulton</option>
                                        <option value="13123">Gilmer</option>
                                        <option value="13125">Glascock</option>
                                        <option value="13127">Glynn</option>
                                        <option value="13129">Gordon</option>
                                        <option value="13131">Grady</option>
                                        <option value="13133">Greene</option>
                                        <option value="13135">Gwinnett</option>
                                        <option value="13137">Habersham</option>
                                        <option value="13139">Hall</option>
                                        <option value="13143">Haralson</option>
                                        <option value="13147">Hart</option>
                                        <option value="13149">Heard</option>
                                        <option value="13151">Henry</option>
                                        <option value="13153">Houston</option>
                                        <option value="13155">Irwin</option>
                                        <option value="13157">Jackson</option>
                                        <option value="13161">Jeff Davis</option>
                                        <option value="13163">Jefferson</option>
                                        <option value="13165">Jenkins</option>
                                        <option value="13167">Johnson</option>
                                        <option value="13171">Lamar</option>
                                        <option value="13173">Lanier</option>
                                        <option value="13175">Laurens</option>
                                        <option value="13177">Lee</option>
                                        <option value="13179">Liberty</option>
                                        <option value="13181">Lincoln</option>
                                        <option value="13185">Lowndes</option>
                                        <option value="13187">Lumpkin</option>
                                        <option value="13193">Macon</option>
                                        <option value="13195">Madison</option>
                                        <option value="13197">Marion</option>
                                        <option value="13189">McDuffie</option>
                                        <option value="13191">McIntosh</option>
                                        <option value="13199">Meriwether</option>
                                        <option value="13205">Mitchell</option>
                                        <option value="13207">Monroe</option>
                                        <option value="13211">Morgan</option>
                                        <option value="13213">Murray</option>
                                        <option value="13215">Muscogee</option>
                                        <option value="13217">Newton</option>
                                        <option value="13219">Oconee</option>
                                        <option value="13223">Paulding</option>
                                        <option value="13225">Peach</option>
                                        <option value="13227">Pickens</option>
                                        <option value="13229">Pierce</option>
                                        <option value="13233">Polk</option>
                                        <option value="13235">Pulaski</option>
                                        <option value="13237">Putnam</option>
                                        <option value="13241">Rabun</option>
                                        <option value="13245">Richmond</option>
                                        <option value="13247">Rockdale</option>
                                        <option value="13249">Schley</option>
                                        <option value="13251">Screven</option>
                                        <option value="13253">Seminole</option>
                                        <option value="13255">Spalding</option>
                                        <option value="13257">Stephens</option>
                                        <option value="13259">Stewart</option>
                                        <option value="13261">Sumter</option>
                                        <option value="13267">Tattnall</option>
                                        <option value="13269">Taylor</option>
                                        <option value="13271">Telfair</option>
                                        <option value="13273">Terrell</option>
                                        <option value="13275">Thomas</option>
                                        <option value="13277">Tift</option>
                                        <option value="13279">Toombs</option>
                                        <option value="13281">Towns</option>
                                        <option value="13283">Treutlen</option>
                                        <option value="13285">Troup</option>
                                        <option value="13287">Turner</option>
                                        <option value="13291">Union</option>
                                        <option value="13293">Upson</option>
                                        <option value="13295">Walker</option>
                                        <option value="13297">Walton</option>
                                        <option value="13299">Ware</option>
                                        <option value="13303">Washington</option>
                                        <option value="13305">Wayne</option>
                                        <option value="13311">White</option>
                                        <option value="13313">Whitfield</option>
                                        <option value="13321">Worth</option>
                                    </select>
                                    <a id="doneCounty" class="button orangeButton" href="#">apply</a>
                                    
                                  </div>
                                  
                                  
                                  <div id="cityFields" style="display:none;">
                                    
                                    <select size="5" name="cities" multiple="multiple" id="cities" style="width:140px;font-size:14px;float:left;margin:0 8px 10px 0">
                                        <option selected="selected" value="">All Cities</option>
                                        <option value="Acworth">Acworth</option>
                                        <option value="Adairsville">Adairsville</option>
                                        <option value="Adel">Adel</option>
                                        <option value="Adrian">Adrian</option>
                                        <option value="Albany">Albany</option>
                                        <option value="Alpharetta">Alpharetta</option>
                                        <option value="Americus">Americus</option>
                                        <option value="Armuchee">Armuchee</option>
                                        <option value="Ashburn">Ashburn</option>
                                        <option value="Athens">Athens</option>
                                        <option value="Atlanta">Atlanta</option>
                                        <option value="Auburn">Auburn</option>
                                        <option value="Augusta">Augusta</option>
                                        <option value="Austell">Austell</option>
                                        <option value="Bainbridge">Bainbridge</option>
                                        <option value="Baldwin">Baldwin</option>
                                        <option value="Baldwon">Baldwon</option>
                                        <option value="Ball Ground">Ball Ground</option>
                                        <option value="Barnesville">Barnesville</option>
                                        <option value="Bethlehem">Bethlehem</option>
                                        <option value="Bishop">Bishop</option>
                                        <option value="Black Creek">Black Creek</option>
                                        <option value="Blackshear">Blackshear</option>
                                        <option value="Blairsville">Blairsville</option>
                                        <option value="Blakely">Blakely</option>
                                        <option value="Bloomingdale">Bloomingdale</option>
                                        <option value="Blue Ridge">Blue Ridge</option>
                                        <option value="Bogart">Bogart</option>
                                        <option value="Bowman">Bowman</option>
                                        <option value="Braselton">Braselton</option>
                                        <option value="Bremen">Bremen</option>
                                        <option value="Brunswick">Brunswick</option>
                                        <option value="Buena Vista">Buena Vista</option>
                                        <option value="Buford">Buford</option>
                                        <option value="Butler">Butler</option>
                                        <option value="Byron">Byron</option>
                                        <option value="Cairo">Cairo</option>
                                        <option value="Calhoun">Calhoun</option>
                                        <option value="Camilla">Camilla</option>
                                        <option value="Canton">Canton</option>
                                        <option value="Carnesville">Carnesville</option>
                                        <option value="Cartersville">Cartersville</option>
                                        <option value="Chamblee">Chamblee</option>
                                        <option value="Chatsworth">Chatsworth</option>
                                        <option value="Chickamauga">Chickamauga</option>
                                        <option value="Clarkesville">Clarkesville</option>
                                        <option value="Claxton">Claxton</option>
                                        <option value="Cleveland">Cleveland</option>
                                        <option value="Cochran">Cochran</option>
                                        <option value="Colbert">Colbert</option>
                                        <option value="College Park">College Park</option>
                                        <option value="Columbus">Columbus</option>
                                        <option value="Comer">Comer</option>
                                        <option value="Commerce">Commerce</option>
                                        <option value="Conyers">Conyers</option>
                                        <option value="Cordele">Cordele</option>
                                        <option value="Cornelia">Cornelia</option>
                                        <option value="Covington">Covington</option>
                                        <option value="Cumming">Cumming</option>
                                        <option value="Dahlonega">Dahlonega</option>
                                        <option value="Dallas">Dallas</option>
                                        <option value="Dalton">Dalton</option>
                                        <option value="Darien">Darien</option>
                                        <option value="Dawson">Dawson</option>
                                        <option value="Dawsonville">Dawsonville</option>
                                        <option value="Decatur">Decatur</option>
                                        <option value="Denton">Denton</option>
                                        <option value="Doerun">Doerun</option>
                                        <option value="Donalsonville">Donalsonville</option>
                                        <option value="Doraville">Doraville</option>
                                        <option value="Douglas">Douglas</option>
                                        <option value="Douglasville">Douglasville</option>
                                        <option value="Dublin">Dublin</option>
                                        <option value="Duluth">Duluth</option>
                                        <option value="East Dublin">East Dublin</option>
                                        <option value="East Point">East Point</option>
                                        <option value="Eastanollee">Eastanollee</option>
                                        <option value="Eastman">Eastman</option>
                                        <option value="Eatonton">Eatonton</option>
                                        <option value="Edison">Edison</option>
                                        <option value="Elberton">Elberton</option>
                                        <option value="Ellabell">Ellabell</option>
                                        <option value="Ellaville">Ellaville</option>
                                        <option value="Ellenwood">Ellenwood</option>
                                        <option value="Ellijay">Ellijay</option>
                                        <option value="Estanollee">Estanollee</option>
                                        <option value="Eulonia">Eulonia</option>
                                        <option value="Evans">Evans</option>
                                        <option value="Fairburn">Fairburn</option>
                                        <option value="Fairmount">Fairmount</option>
                                        <option value="Fayetteville">Fayetteville</option>
                                        <option value="Fleming">Fleming</option>
                                        <option value="Flowery Branch">Flowery Branch</option>
                                        <option value="Forest Park">Forest Park</option>
                                        <option value="Forsyth">Forsyth</option>
                                        <option value="Fort Oglethorpe">Fort Oglethorpe</option>
                                        <option value="Fort Valley">Fort Valley</option>
                                        <option value="Franklin">Franklin</option>
                                        <option value="Gainesville">Gainesville</option>
                                        <option value="Garden City">Garden City</option>
                                        <option value="Georgia">Georgia</option>
                                        <option value="Gibson">Gibson</option>
                                        <option value="Glennville">Glennville</option>
                                        <option value="Gordon">Gordon</option>
                                        <option value="Greensboro">Greensboro</option>
                                        <option value="Griffin">Griffin</option>
                                        <option value="Grovetown">Grovetown</option>
                                        <option value="Hahira">Hahira</option>
                                        <option value="Hampton">Hampton</option>
                                        <option value="Hartwell">Hartwell</option>
                                        <option value="Hawkinsville">Hawkinsville</option>
                                        <option value="Hazlehurst">Hazlehurst</option>
                                        <option value="Hiawassee">Hiawassee</option>
                                        <option value="Hiram">Hiram</option>
                                        <option value="Hogansville">Hogansville</option>
                                        <option value="Hoschton">Hoschton</option>
                                        <option value="Hoscton">Hoscton</option>
                                        <option value="Jackson">Jackson</option>
                                        <option value="Jasper">Jasper</option>
                                        <option value="Jefferson">Jefferson</option>
                                        <option value="Jesup">Jesup</option>
                                        <option value="Johns Creek">Johns Creek</option>
                                        <option value="Jonesboro">Jonesboro</option>
                                        <option value="Kathleen">Kathleen</option>
                                        <option value="Kennesaw">Kennesaw</option>
                                        <option value="Kennessaw">Kennessaw</option>
                                        <option value="Kensington">Kensington</option>
                                        <option value="LaFayette">LaFayette</option>
                                        <option value="LaGrange">LaGrange</option>
                                        <option value="Lakeland">Lakeland</option>
                                        <option value="Lavonia">Lavonia</option>
                                        <option value="Lawrenceville">Lawrenceville</option>
                                        <option value="Lilburn">Lilburn</option>
                                        <option value="Lincolnton">Lincolnton</option>
                                        <option value="Lithia Springs">Lithia Springs</option>
                                        <option value="Lithonia">Lithonia</option>
                                        <option value="Loganville">Loganville</option>
                                        <option value="Louisville">Louisville</option>
                                        <option value="Lula">Lula</option>
                                        <option value="Lumber City">Lumber City</option>
                                        <option value="Lyons">Lyons</option>
                                        <option value="Mableton">Mableton</option>
                                        <option value="Macon">Macon</option>
                                        <option value="Madison">Madison</option>
                                        <option value="Manchester">Manchester</option>
                                        <option value="Marietta">Marietta</option>
                                        <option value="Maysville">Maysville</option>
                                        <option value="McDonough">McDonough</option>
                                        <option value="McRae">McRae</option>
                                        <option value="Metter">Metter</option>
                                        <option value="Midway">Midway</option>
                                        <option value="Miledgeville">Miledgeville</option>
                                        <option value="Milledgeville">Milledgeville</option>
                                        <option value="Millen">Millen</option>
                                        <option value="Monroe">Monroe</option>
                                        <option value="Montezuma">Montezuma</option>
                                        <option value="Morrow">Morrow</option>
                                        <option value="Moultrie">Moultrie</option>
                                        <option value="Mt. Airy">Mt. Airy</option>
                                        <option value="Nahunta">Nahunta</option>
                                        <option value="Nashville">Nashville</option>
                                        <option value="Newnan">Newnan</option>
                                        <option value="Newton">Newton</option>
                                        <option value="Norcross">Norcross</option>
                                        <option value="Oakwood">Oakwood</option>
                                        <option value="Ocilla">Ocilla</option>
                                        <option value="Patterson">Patterson</option>
                                        <option value="Peachtree City">Peachtree City</option>
                                        <option value="Pearson">Pearson</option>
                                        <option value="Pelham">Pelham</option>
                                        <option value="Pembroke">Pembroke</option>
                                        <option value="Pendergrass">Pendergrass</option>
                                        <option value="Perry">Perry</option>
                                        <option value="Pooler">Pooler</option>
                                        <option value="Portal">Portal</option>
                                        <option value="Powder Springs">Powder Springs</option>
                                        <option value="Quitman">Quitman</option>
                                        <option value="Rabun Gap">Rabun Gap</option>
                                        <option value="Rex">Rex</option>
                                        <option value="Richland">Richland</option>
                                        <option value="Richmond Hill">Richmond Hill</option>
                                        <option value="Rincon">Rincon</option>
                                        <option value="Ringgold">Ringgold</option>
                                        <option value="Roberta">Roberta</option>
                                        <option value="Rockmart">Rockmart</option>
                                        <option value="Rome">Rome</option>
                                        <option value="Rossville">Rossville</option>
                                        <option value="Roswell">Roswell</option>
                                        <option value="Rutledge">Rutledge</option>
                                        <option value="Sandersville">Sandersville</option>
                                        <option value="Sardis">Sardis</option>
                                        <option value="Savannah ">Savannah </option>
                                        <option value="Smyrna">Smyrna</option>
                                        <option value="Snellville">Snellville</option>
                                        <option value="Social Circle">Social Circle</option>
                                        <option value="Soperton">Soperton</option>
                                        <option value="Springfield">Springfield</option>
                                        <option value="St. Marys">St. Marys</option>
                                        <option value="Statesboro">Statesboro</option>
                                        <option value="Statham">Statham</option>
                                        <option value="Stockbridge">Stockbridge</option>
                                        <option value="Stone Mountain">Stone Mountain</option>
                                        <option value="Summerville">Summerville</option>
                                        <option value="Suwanee">Suwanee</option>
                                        <option value="Sylvania">Sylvania</option>
                                        <option value="Sylvester">Sylvester</option>
                                        <option value="Tallapoosa">Tallapoosa</option>
                                        <option value="Temple">Temple</option>
                                        <option value="Thomaston">Thomaston</option>
                                        <option value="Thomasville">Thomasville</option>
                                        <option value="Thomson">Thomson</option>
                                        <option value="Tifton">Tifton</option>
                                        <option value="Toccoa">Toccoa</option>
                                        <option value="Trenton">Trenton</option>
                                        <option value="Tucker">Tucker</option>
                                        <option value="Tunnel Hill">Tunnel Hill</option>
                                        <option value="Tyrone">Tyrone</option>
                                        <option value="Union City">Union City</option>
                                        <option value="Union Point">Union Point</option>
                                        <option value="Valdosta">Valdosta</option>
                                        <option value="Vidalia">Vidalia</option>
                                        <option value="Vienna">Vienna</option>
                                        <option value="Villa Rica">Villa Rica</option>
                                        <option value="Warner Robins">Warner Robins</option>
                                        <option value="Watkinsville">Watkinsville</option>
                                        <option value="Waycross">Waycross</option>
                                        <option value="Waynesboro">Waynesboro</option>
                                        <option value="West Point">West Point</option>
                                        <option value="Wildwood">Wildwood</option>
                                        <option value="Winder">Winder</option>
                                        <option value="Winston">Winston</option>
                                        <option value="Woodbine">Woodbine</option>
                                        <option value="Woodstock">Woodstock</option>
                                        <option value="Wrens">Wrens</option>
                                        <option value="Wrightsville">Wrightsville</option>
                                    </select>
                                    
                                    <a id="doneCity" class="button orangeButton" href="#">apply</a>
                                    
                                  </div>
                                  </div>
                                </div>
                            </div>
                            <!-- /Location -->

                            <div class="lowerHolder">
                                <div style="float:left; margin-right:20px">
                                    <a id="searchButton" class="button basicSearch searchButton searchButtonGreen" style="padding: 9px 20px 11px; margin:0 0 14px 0;" href="#">GO</a>
                                </div>
                                <div style="overflow:hidden; font-size:11pt; margin-bottom:6px">
                                    <a href="" class="button fullWebsiteLink" style="float:right;">Additional Filters</a>
                            </div>


                            </div>
                        </div>

                        </form>

                    </div>
                <!-- /search -->

                <div id="smartSlideshow" style="overflow:hidden;display:none;"></div>
                <div id="smartList" style="position:relative"></div>
                <div id="mapInMain"></div>
            </div>
        
            <div id="contentHolder"></div>

        </div>
        <!--/ 2 columns -->

        

    </div>
    <div id="print">
    </div>
    <div id="overlay" >
        Loading Data Feed...
    </div>
   </div>  <!-- End smartWidget -->
    <script type="text/javascript">

    </script>
    <script src="../js/util.js" type="text/javascript"></script>
    <script src="../js/smartWidget.1.0.js" type="text/javascript"></script>
    <script src="../js/jquery.unveil.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="../js/markercluster.js"></script>
    <script type="text/javascript" src="../js/foundation.min.js"></script>
    
    <script>
    $(document).ready(function() {
        $(".filter").click(function() {
            event.stopPropagation();
            $(".filterBubbleHolder").toggle();
            $(".filter").css({"background-color":"#f9f9f9"});
        });
        $(document).click(function() {
            $(".filterBubbleHolder").hide();
        });
        $(".filterUL li").click(function(e) {
            e.preventDefault();
            $(".filterUL li").removeClass("selected");
            $(this).addClass("selected");
            //$(".filterSelected").html($(this).text() + '<i class="entypo-down-open" style="font-size:13pt"></i>');
            $(".filterSelected").html($(this).text()).data('selected', $(this).data('id'));
            $("#woe_id option[value='"+$(this).data('id')+"']").prop("selected", true).trigger("change");
            $(".filterBubbleHolder").hide();
            $("#locationStatus").hide();
        });
    });
    </script>
    <script type="text/javascript">
        
        function fixSmartTop() {
            // Was 'overflow':'hidden'
            $("#smartTop").css({"width":$('#mainColumn').width(), 'overflow':'visible', 'position':'fixed','top':'0px','border-radius':'0px'});
        }
        function unfixSmartTop() {
            $("#smartTop").css({"margin-top":"0px","width":"100%","position":'relative','border-radius':'20px 20px 0px 0px'});
        }
		function feedScroll(){
			var b = $(window).scrollTop();
			//var d = $("#scrolleranchor").offset({scroll:false}).top;
			//var d = $("#scrolleranchor").offset({"scroll":false}).top;
			var d = $("#scrolleranchor").offset().top;
			var c=$("#smartMap");
            //console.log(b + "==" + d)
			if (b>d) {
                if ($(window).width() > 800) { // Fixed position map
                    c.css({"margin-top":"10px","width":$('#mapColumn').width(), "position":'fixed',"top":"0px"});
                }
                //console.log("if");
                if(b>d+35) {
                    fixSmartTop();
                }
                
				////c.css({position:"fixed",top:"0px"})
			} else {
			  if (b<=d) {
				////c.css({position:"relative",top:""})
                //alert('reset map');
				//c.css({"margin-top":"","width":"","position":'relative',"top":""});
                c.css({"margin-top":"0px","width":"100%","position":'relative',"top":"0px"});
                if ($(window).width() > 800) {
                    unfixSmartTop();
                }
			  }
			}
		}
		
		$(window).load(function(){
			$(function() {
			  var a = function() {
				 if($(".closeList:visible").length >= 1) {
					feedScroll();
				 }
				
			  };
			  $(window).scroll(a);a()
			});
		});

        // Global variables
        var sliderValues;
        // var defaultSliderValues = { 'adminLevel': 0, 'distanceLevel': 0, 'verboseLevel': 0, 'fbPlace': 'off' };
        var defaultSliderValues = { 'adminLevel': 0, 'distanceLevel': 0, 'fbPlace': 'off' };

        var searchParams;
        var defaultSearchParams = { 'useCurrent': null, 'woe_id': 'all' };

        $(function () {



            /*
            * smartDirections
            
            $(".gmapDirectionLink").on("click", function(e) {
            $("#overlay").show().html($("#smartDirections"));
                
            e.preventDefault();
            });
            */

            $(".closeDirectionMap").click(function () {
                $("#smartDirections").hide();
                $(".listingsLink").trigger("click");
            });

            $.cookie.json = true;
            if (typeof ($.cookie('sliderValues')) === 'undefined' || $.cookie('sliderValues') === null) {
                $.cookie('sliderValues', defaultSliderValues);
            }

            sliderValues = $.cookie('sliderValues');
            if (typeof (sliderValues) === 'undefined' || sliderValues === null) {
                sliderValues = defaultSliderValues; // if cookies are not enabled or are corrupted, use the default
            }
            
            
            if (typeof ($.cookie('searchParams')) === 'undefined' || $.cookie('searchParams') === null) {
                $.cookie('searchParams', defaultSearchParams);
            }

            searchParams = $.cookie('searchParams');
            if (typeof (searchParams) === 'undefined' || searchParams === null) {
                searchParams = defaultSearchParams; // if cookies are not enabled or are corrupted, use the default
            }
            
            
            if (location.host == 'localhost') {
                function timeStamp() {
                    var mydate = new Date();
                    return (mydate.getMinutes() + ':' + mydate.getSeconds() + ':' + mydate.getMilliseconds() + ' - ');
                }
                $('#showMessage').show();
                var html = [];
                //for (var key in sliderValues) {
                    html.push(timeStamp() + JSON.stringify(sliderValues) + '<br>');
                    html.push(timeStamp() + JSON.stringify(searchParams) + '<br>');
                    //html.push(timeStamp() + String(sliderValues) + '<br>');
                //}
                //var html = timeStamp() + text + '<br>';
                var $selector = $('.smartMessage');
                if($selector.length != 0) {
                    $selector.append(html.join(''));
                    //return;
                }
                
            }

            if (sliderValues['fbPlace'] == 'on') {
                $("#placesCB").attr("checked", "true");
            }
            //hidding Facebook Places checkbox if fbPlace value is off
            /*
            $.cookie.json = true;
            if(typeof($.cookie('sliderValues')) !== 'undefined') {
            sliderValues = JSON.parse($.cookie('sliderValues'));
            console.log(sliderValues);
            console.log(sliderValues['fbPlace']);
            if(sliderValues['fbPlace'] == 'off') {
            $(".placesSelect").hide();
            }
            }
            */

            checkUncheckPlacesCB(sliderValues.fbPlace);

            /*
            * Project 4 - porints 25, 26, 27
            */
            function getLatLonFromBrowser() {
                // Get latitude and longitude
                $("#currentButtons").hide();
                if (navigator.geolocation) { // Browser supports lookup
                    //Show loading icon
                    $("#loadingLatLon").html('<span style="white-space:nowrap"><img src="../img/ajax-loader.gif" alt="Geo Loading" title="Geo Loading" style="width: 18px;float:left" />&nbsp; Loading your current GeoLocation</span><br>');
                    $("#loadingLatLon").show();

                    navigator.geolocation.getCurrentPosition(function (position) {
                        console.log(position.coords.latitude.toFixed(3));
                        $("#lat").val(position.coords.latitude.toFixed(3));
                        $("#lon").val(position.coords.longitude.toFixed(3));
                        $("#currentlat").val(position.coords.latitude.toFixed(3));
                        $("#currentlon").val(position.coords.longitude.toFixed(3));
                        distanceSearchType = 'latlon';
                        displayLocText();
                        $("#loadingLatLon").hide();
                        $("#currentButtons").show();
                    }, function (error) {
                        console.log(error);
                        $('#adminMessage').append('geolocation error occurred. Error code: ' + error.code);
                        $("#loadingLatLon").html('Unable to fetch your geolocation (' + error.code + ')');
                        // error.code 2 occured when disconnected.
                        //alert(error.code);
                        //loadPageAsync(jsonFile);       
                    });
                    //alert('Break page'); // CAUTION - Putting an alert here breaks page.
                }
                if (!$("#lat").val()) {
                    //alert("Approve geocoding at the top of your browser.");
                }
            }

            function activateMyLocation() {
                $('#latLonFields').show();
                //$('#currentLoc .active').removeClass("active");
                //$('#useCurrent').addClass("active");
                getLatLonFromBrowser();
            }

            function activateEntireState() {
                $('#latLonFields').hide();
                //$('#currentLoc .active').removeClass("active");
                //$('#entireState').addClass("active");
            }

            function activateOtherLocation() {
                $('#latLonFields').show();
                //$('#currentLoc .active').removeClass("active");
                //$('#useCustomLatLon').addClass("active");
            }

            

            console.log(searchParams['useCurrent']);
            $("#woe_id").val(searchParams['woe_id']); 
            /* smart filter code starts */
            $(".filterSelected").data("selected", $("#woe_id").val()).html($("#woe_id option:selected").text());
            $(".filterUL li").removeClass("selected");
            //alert($("#woe_id").val());
            $(".filterUL li[data-id='"+$("#woe_id").val()+"']").addClass("selected");
            /* smart filter code ends */
            if (searchParams['useCurrent'] == '1') {
                activateMyLocation();
                $.cookie('searchParams', { 'useCurrent': '1', 'currentlat': $("#currentlat").val(), 'currentlon': $("#currentlon").val(), 'woe_id': 'current' });
            }
            else if (searchParams['useCurrent'] == '0') { // Wanted this to work with '3', but it didn't.
                activateOtherLocation();
            }
            else if (searchParams['useCurrent'] == '0' && $("#lat").val() != '' && $("#lon").val() != '') {
                activateOtherLocation();
            }

            $("#woe_id").change(function () {
                //hide all sections
                $('#latLonFields').hide();
                $("#zipFields").hide();
                $("#countyFields").hide();
                $("#cityFields").hide();
                
                
                console.log($(this).val());
                var selectedValue = $(this).val();

                if (selectedValue == 'all') { // its entire state
                    $.cookie('searchParams', { 'useCurrent': null, 'woe_id': 'all' });
                    activateEntireState();
                }

                if (selectedValue == 'current') { // its My Current location, set cookie useCurrent=1 
                    activateMyLocation();

                    $.cookie('searchParams', { 'useCurrent': '1', 'currentlat': $("#currentlat").val(), 'currentlon': $("#currentlon").val(), 'woe_id': selectedValue });
                }

                if (selectedValue == 'custom') { // its other location, set cookie useCurrent=0
                    activateOtherLocation();
                    $.cookie('searchParams', { 'useCurrent': '0', 'currentlat': $("#lat").val(), 'currentlon': $("#lon").val(), 'woe_id': selectedValue });
                }
                
                if(selectedValue == 'zip') {
                    $("#zipFields").show();
                    var cokSearchParam = $.cookie('searchParams');
                    if (typeof(cokSearchParam.zip) != 'undefined') {
                        $("#zip").val(cokSearchParam.zip);
                    }
                    
                }
                if(selectedValue == 'county') {
                    $("#countyFields").show();
                    var cokSearchParam = $.cookie('searchParams');
                    if (typeof(cokSearchParam.county) != 'undefined') {
                        console.log(cokSearchParam.county);
                        $("#countyids").val(cokSearchParam.county.split(', '))
                    }
                }
                if(selectedValue == 'city') {
                    $("#cityFields").show();
                    var cokSearchParam = $.cookie('searchParams');
                    if (typeof(cokSearchParam.city) != 'undefined') {
                        console.log(cokSearchParam.city);
                        $("#cities").val(cokSearchParam.city.split(', '))
                    }
                }

            });
            
            $('#headerLogo').attr("src", "img/facts.png");
            /*
            if (location.host == 'georgiafacts.org' || location.host == 'locations.georgia.org') {
            $('#headerLogo').attr("src", "img/facts.png");
            } else {
            $('#headerLogo').attr("src", "../img/logo/SmartWidgetLogo.png");
            $('#headerLogo').css('width', '200px');
            // src="" width="200"
            }
            */

            $(document).foundation(); // For tabs
            var urlValues = loadUrlValues();
            var urlValue;
            var distanceSearchType = '';
            var useGoogleMap = true;

            var $smartList = $('#smartList');
            $smartList.hide();

            if (location.host == 'localhost') {
                $("#showSettings").show();
            }
            $('.fullWebsiteLink').click(function (event) {
                event.preventDefault();
                $('#modalPopupBkgd').show();
                $('#moreOptions').show();
            });

            $('#fullWebsiteContinueLink').click(function (event) {
                var params = loadUrlValues();
                var $checkboxes = $('#buildingsCB, #manufacturersCB, #internationalCB').filter(':checked');
                var url = '/buildings';
                if ($checkboxes.length == 1) {
                    if ($checkboxes[0].id == 'manufacturersCB') {
                        url = '/manufacturers';
                    }
                    else if ($checkboxes[0].id == 'internationalCB') {
                        url = '/international';
                    }
                }
                else { // none are checked or more than one are checked.
                    url = '/manufacturers';
                }

                if (location.host == 'localhost') {
                    $(this).attr('href', getLocalhostUrl(url, 'http://georgiafacts.org', params, false));
                }
                else {
                    $(this).attr('href', url);
                }
            });

            $('#fullWebsiteCancelLink').click(function (event) {
                $('#moreOptions').hide();
                $('#modalPopupBkgd').hide();
                event.preventDefault();
            });

            // Stick map on scroll
            //var itemsTop = $('#mapColumn').position().top;
            //var itemTypeHeight = $('#smartMap').height();
            //var itemTypeBottom = itemsTop + itemTypeHeight;
            $(document).on("click", '#closeSmartSearch', function (event) {
                
                $("#mainColumn").hide();
                $("#closeSmartSearch").hide();
                $(".siteTabs ul li").css({"width":"16.66%"});
                $('#rightCornerIcons').appendTo($('#rightIconsTop'));
                event.preventDefault();
            });

            $(document).on("click", '.closeList', function (event) {
                var $this = $(this), closeFeedType = $this.data('feedtype');

                if ($(".closeList:visible").length == 1) {
                    $smartList.hide();
                }
                else {
                    $('.' + closeFeedType).hide();
                    $this.parent().hide();
                }

                feedScroll();

                //if($(this).scrollTop() > itemsTop) {
                //$('#smartMap').css({position:'fixed',top:10,width:$('#mapColumn').width()});
                //} else {
                //$('#smartMap').removeAttr('style');
                //}

            });
            /*
            $(window).scroll(function(){

            //if ($('#smartMap').position().top <= 0) {
            //$('#smartMap').css({position:'fixed',top:itemsTop,width:$('#mapColumn').width()});
            //$('#smartMap').css({ top:$('#typeTabHolder').height(), width:$('#mapColumn').width()});
            if($('#mainColumn').is(':visible')) {
                    
            if($(this).scrollTop() > itemsTop) {
            $('#smartMap').css({position:'fixed',top:10,width:$('#mapColumn').width()});
            } else {
            $('#smartMap').removeAttr('style');
            }
            }
                    
                    
            //}
            });
            */
            // Populate input fields from the querystring values if there are any.
            if (typeof (urlValues.minsize) != 'undefined') {
                urlValue = parseInt(urlValues.minsize, 10);
                if (urlValue >= 0) {
                    $('#minsize').val(urlValue);
                }
            }
            if (typeof (urlValues.maxsize) != 'undefined') {
                urlValue = parseInt(urlValues.maxsize, 10);
                if (urlValue >= 0) {
                    $('#maxsize').val(urlValue);
                }
            }
            if (typeof (urlValues.ceiling) != 'undefined') {
                urlValue = parseInt(urlValues.ceiling, 10);
                if (urlValue >= 0) {
                    $('#ceiling').val(urlValue);
                }
            }

            if (typeof (urlValues.countyids) != 'undefined') {
                urlValue = urlValues.countyids.split(','); // multi-select
                for (var i in urlValue) {
                    urlValue[i] = urlValue[i].trim();
                }
                $('#countyids').val(urlValue);
            }

            if (typeof (urlValues.cities) != 'undefined') {
                urlValue = urlValues.cities.split(','); // multi-select
                for (var i in urlValue) {
                    urlValue[i] = urlValue[i].trim();
                }
                $('#cities').val(urlValue);
            }
            
            function DOMoptionsToJSArray(selector, valType) {
                var optionArray = [];
                selector.each(function() {
                    
                    if(valType == 'text') {
                        optionArray.push($( this ).text());
                    }
                    if(valType == 'val') {
                        optionArray.push($( this ).val());
                    }
                    
                });
                return optionArray;
            }
            
            function buildLocText(selector, type) {
                var locText = '';
                if(selector.length == 1) {
                    if(selector.val() == '0') {
                        locText = 'Search limited to ' + type.singular + '.';
                    } else if (type.singular == '') {
                        locText = 'Search limited to ' + selector.text() + '.';
                    } else {
                        locText = 'Search limited to ' + selector.text() + ' ' + type.singular + '.';
                    }
                } else {
                   
                    if (type.plural == '') {
                        locText = 'Search limited to ' + DOMoptionsToJSArray(selector, 'text').join(', ') + '.';
                    } else {
                        locText = 'Search limited to ' + DOMoptionsToJSArray(selector, 'text').join(', ') + ' ' + type.plural + '.';
                    }
                }
                return locText;
            }
            
            function displayLocText() {
                var $distance = $("#distance");
                var locText = '';
                $('#currentLoc .active').removeClass("active");

                if (distanceSearchType == 'county') {
                    locText = buildLocText($("#countyids option:selected"), {singular:'County', plural:'Counties'});
                    var cokSearchParam = $.cookie('searchParams');
                    cokSearchParam.county = DOMoptionsToJSArray($("#countyids option:selected"), 'val').join(', ');
                    $.cookie('searchParams', cokSearchParam);
                    
                }
                else if (distanceSearchType == 'city') {
                     locText = buildLocText($("#cities option:selected"), {singular:'', plural:''});
                     var cokSearchParam = $.cookie('searchParams');
                     cokSearchParam.city = DOMoptionsToJSArray($("#cities option:selected"), 'val').join(', ');
                     $.cookie('searchParams', cokSearchParam);
                    //locText = 'Search limited to city.';
                }
                else if ($distance.val() != '') {
                    locText = 'Within ' + $("#distance").val() + ' miles';
                    if (distanceSearchType == 'zip') {
                        locText += ' of zip code ' + $('#zip').val() + '.';
                        var cokSearchParam = $.cookie('searchParams');
                        cokSearchParam.zip = $('#zip').val();
                        $.cookie('searchParams', cokSearchParam);
                    }
                    else if (distanceSearchType == 'latlon') {
                        if ($("#lat").val() == $("#currentlat").val() && $("#lon").val() == $("#currentlon").val()) {
                            locText += ' of <span style="white-space:nowrap">your current location.</span>';
                            //$('#useCurrent').addClass("active");
                        } else {
                            locText += ' of <span style="white-space:nowrap">' + $("#lat").val() + ' ' + $("#lon").val() + '.</span>';
                            //$('#useCustomLatLon').addClass("active");
                        }
                    }

                    $('#latLonFields').show();
                    $('#locText').html(locText);
                }
                $('#locText').html(locText);

            }

            //loadWidget(urlValues);

            function nearTabSelected() {
                $('#distanceField').insertAfter($('#distanceInNear'));
            }
            function zipTabSelected() {
                $('#distanceField').insertAfter($('#distanceInZip'));
            }
            //start here
            
            /*
            $(document).click(function (e) {

                if (e.target.id != 'showMobileMenu' && !$('#menuHolder').find(e.target).length) {
                    $("#menuHolder").hide();
                    $('#showMobileMenu').css('color', '#fff');
                    scrollToCopy($('#mainColumn'), 94); // Prevents search fields from going offscreen when menu is automatically hidden.
                    // To Do: When more form fields are added, adjust scroll to avoid going all the way to top.
                }

            });*/

            $(document).on('click', '.optionSide', function () {

                setTabBackgroudColor();

            });

            setTabBackgroudColor();

            //end here bade lal

            function closeMenu() {
                $('#menuHolder').hide();
                $('#showMobileMenu').css('color', '#fff');
                $('#showMobileMenu').css('background', 'transparent');
                $('#widgetTabsHolder').insertAfter($('#widgetTabsPosition'));
                $('body').css('margin-top', '92px');
            }
            function restoreIcons() {
                $('#rightCornerIcons').appendTo($('#rightIconsPosition'));
                if ($(window).width() > 800) {
                    $('#closeSmartSearch').show();
                }
                $(".siteTabs ul li").css({"width":"20%"});
                $('#widgetTabsHolder').insertAfter($('#mySearchTop'));
                $('body').css('margin-top', '58px');
                scrollToCopy($('#mainColumn'), 94);
            }
            $('#showMobileMenu, .closeMenu').click(function (event) {
                if ($('#menuHolder').is(':visible')) {
                    closeMenu();
                } else {
                    restoreIcons();
                    $('#menuHolder').show();
                    $("#mainColumn").show();
                    $('#showMobileMenu').css('color', '#ccc');
                    $('#settingsHolder').hide();
                }
                event.preventDefault();
            });
            $('.showSettings').click(function (event) {
                if ($('#settingsHolder').is(':visible')) {
                    $('#settingsHolder').hide();
                    closeMenu(); // Moves tabs back to fixed position.
                } else {
                    restoreIcons();
                    $('#settingsHolder').show();
                    $("#mainColumn").show();
                    //$('#searchContainer').hide();
                    // To do: Adjust so this only loads once.
                    if ($("#settingsHolder").html() == 'settingsHolder') {
                        $('#settingsHolder').load('../slider/slider.html', function () { });
                    }
                }
                event.preventDefault();
            });
            $('#showMessage').click(function (event) {
                $('.smartMessage').show();
                $("#mainColumn").show();
                event.preventDefault();
            });

            function showAbout() {
                $('#contentHolder').show();
                $('#contentHolder').load('about.html', function () { });
            }
            $('#showAboutText').click(function (event) {
                hideOthers();
                $("#smartMap").hide();
                showAbout();
                closeMenu();
                //$("#contentHolder").hide();
                event.preventDefault();
            });
            showAbout(); // Initial load

            $('#nearTab').click(function (event) {
                nearTabSelected();
                event.preventDefault();
            });
            /*
            $('#entireState').click(function (event) {
            $('#latLonFields').hide();
            $('#currentLoc .active').removeClass("active");
            $('#entireState').addClass("active");

            $('#locationArrow').attr("src", "../img/icons/circle-next.png");
            $('#locText').html('Search Entire State.');
            $('#locationStatus').show();
            $('#locationSectionBox').hide();
            event.preventDefault();
            });
            $('#useCurrent').click(function (event) {
            $('#latLonFields').show();
            $('#currentLoc .active').removeClass("active");
            $('#useCurrent').addClass("active");
            getLatLonFromBrowser();
            event.preventDefault();
            });
            $('#useCustomLatLon').click(function (event) {
            $('#latLonFields').show();
            $('#currentLoc .active').removeClass("active");
            $('#useCustomLatLon').addClass("active");
            event.preventDefault();
            });
            */

            $('#lat, #lon').click(function (event) {
                $('#currentLoc .active').removeClass("active");
                //$('#useCustomLatLon').addClass("active").show();
                event.preventDefault();
            });
            $('#newSearchLink').click(function (event) {
                $('.basicSearch').show();
                $('#newSearchLink').hide();
                event.preventDefault();
            });


            /*
            $('#zipTab').click(function (event) {
                zipTabSelected();
                event.preventDefault();
            });*/

            $('#locationStatus').click(function (event) {
                if ($('#locationSectionBox').is(':visible')) {
                    $('#locationArrow').attr("src", "../img/icons/circle-next.png");
                    $('#locationStatus').hide();
                    $(".filterUL li.selected").trigger("click");
                } else {
                    $('#locationArrow').attr("src", "../img/icons/circle-down.png");
                    //$('#locationSectionBox').show();
                }
                //return false;
                event.preventDefault();
            });

            $('#doneZip, #doneLatLng, #doneCounty, #doneCity').click(function (event) {

                var $this = $(this);
                var $distance = $('#distance');
                distanceSearchType = '';
                if ($distance.val() != '') {
                    if ($this.attr('id') == 'doneZip') {
                        var zipValue = $('#zip').val();
                        var pattern = /^\d{5}$/;
                        if (pattern.test(zipValue)) {
                            distanceSearchType = 'zip';
                        } else {
                            alert("Enter zip.");
                            return false;
                        }
                    }
                    else if ($this.attr('id') == 'doneCounty') {
                        distanceSearchType = 'county';
                    }
                    else if ($this.attr('id') == 'doneCity') {
                        distanceSearchType = 'city';
                    }
                    else {
                        var latValue = $('#lat').val();
                        var lonValue = $('#lon').val();
                        if (!isNaN(parseFloat(latValue)) && !isNaN(parseFloat(lonValue))) {
                            distanceSearchType = 'latlon';
                        }
                    }
                }
                displayLocText();
                $('#locationArrow').attr("src", "../img/icons/circle-next.png");
                $('#locationStatus').show();
                $('#latLonFields,#zipFields,#cityFields,#countyFields').hide();
                return false;
            });

            $("li#welcomeTab").click(function (e) {
                // Project List 4.3
                $("#smartDirections").hide();
                $(".directionsLink").removeClass("active");
            });
            $("li#manufacturersTab, li#buildingsTab, li#internationalTab, li#countiesTab").click(function (e) {
                e.preventDefault();
                $($("li#manufacturersTab").data("checkbox")).prop('checked', false);
                $($("li#buildingsTab").data("checkbox")).prop('checked', false);
                $($("li#internationalTab").data("checkbox")).prop('checked', false);
                $($("li#countiesTab").data("checkbox")).prop('checked', false);
                $($(this).data("checkbox")).prop('checked', true);
                setTabBackgroudColor();
                // Project List 4.3 - starts
                $("#smartDirections").hide();
                $(".directionsLink").removeClass("active");
                // Project List 4.3 - ends
                $('#searchButton').trigger("click", ["ce"]);
            });

            $("li.listingsLink, li.slideshowLink, a#showMobileMenuListings").click(function (e) {
                $("#smartDirections").hide();
                if ($(this).is('li')) {
                    $("#widgetTabs li").removeClass("active");
                }
                if ($(window).width() <= 800) {
                    //$("#mapColumn").hide();
                }
                $("li.searchLink, li.googleLink, li.listingsLink, li.slideshowLink, a#showMobileMenuListings").removeClass("active");
                $(this).addClass("active");

                if (flgFeedLoaded == false) {
                    e.preventDefault();

                    $('#searchButton').trigger("click", ["ce"]); // calls hideOthers
                } else {
                    scrollToCopy($('#mainColumn'), 94); // 
                }
            });
            $("li.listingsLink, a#showMobileMenuListings").click(function (e) {
                //alert('listingsLink');
                //$("#smartSlideshow").hide(); // Didn't work
                // $("#mapColumn").hide(); // Causes map to be too narrow.
                // $("#smartMap").hide(); // Causes map to be too narrow.
                if ($(window).width() <= 800) {
                    $('#smartMap').insertAfter($('#mapInMain')); // Since map needs to rendered to correctly span width with tiles.
                }
                $(".slideshowContainer").hide();
            });
            $("li.slideshowLink").click(function (e) {
                hideMain(); // Includes hiding mySearch when wide, but omits hiding map.
                if ($(window).width() <= 800) {
                    // hideOthers(); // No effect on hiding map at present.  To use later.
                    $('#smartMap').insertAfter($('#mapInMain')); // Since map needs to rendered to correctly span width with tiles.
                    $('#smartMap').hide();
                    // Hide map because it scrolls on mobile.
                    setTimeout(function() {$('#smartMap').hide()} , 3000); // Allow time to load tiles
                }
                $(".slideshowContainer").show();
                $(".smartSlideshow").show();  
            });
            function scrollToCopy($target, offset) {
                //get the top offset of the target anchor
                var target_offset = $target.offset();
                var target_top = target_offset.top - offset;

                //goto that anchor by setting the body scroll top to anchor top
                $('html, body').animate({ scrollTop: target_top }, 500);
            }
            function hideMain() {
                // Retains map for background
                $("#settingsHolder").hide();
                $(".smartMessage").hide();
                $("#mySearch").hide();
                $("#contentHolder").hide();
                $("#smartList").hide();
                $("#smartSlideshow").hide();
                $("#smartGallery").hide();
                $("#smartDirections").hide();
            }
            function hideOthers() {
                $("#smartDirections").hide();
                $(".smartMessage").hide();
                $("#settingsHolder").hide();
                if ($(window).width() <= 800) {
                    //alert("hideOthers");
                    $("#mySearch").hide();
                    $("#contentHolder").hide();
                    $("#smartSlideshow").hide();
                    $("#smartMap").hide();
                    $("#smartGallery").hide();
                }
            }
            $("li.mapLink").click(function (e) {
                e.preventDefault();

                $("#widgetTabs li").removeClass("active");
                //if ($(window).width() <= 800) {
                    hideOthers();
                //}
                $(this).addClass("active");
                if ($("#smartMap").children().length > 0) {
                    hideMain();
                } else {
                    if (!$("#overlay").is(':visible')) {
                        $("li.searchLink, li.listingsLink, li.slideshowLink, a#showMobileMenuListings").removeClass("active");
                        //$(this).addClass("active");
                        $('#searchButton').trigger("click", ["ce"]);
                    }
                }
                if ($(window).width() <= 800) {

                    $('#mainColumn').css('height', '1px'); // HACK to close 2000px height gap when internal div's (like smartList) are hidden. 0px did not fix.
                    // Alterative solution will likely be to insert smartMap into mainColumn.
                }
                $("#smartMap").show();
                $("#mapColumn").show();

                if ($(window).width() <= 800) {
                    $("#smartList").hide();
                    $('#smartMap').insertAfter($('#mapInMain')); // Since map needs to rendered to correctly span 
                }
            });
            $("li.googleLinkHideOthers").click(function (e) {
                // Since googleLink is called by smartWidget.cs
                if ($(window).width() <= 800) {
                    hideOthers();
                }
            });
            $("li.googleLink").click(function (e) {
                // To Fix: Triggered by loadMaps() regardless of if map is needed.
                //alert("googleLink");
                e.preventDefault();
                useGoogleMap = true;
                $("#mapToggle li").removeClass("active");
                $("#smartMap").show(); // This causes map to always appear on mobile, which user can not scroll beyong.
                // But it's needed, or map tiles don't load.

                if ($("#smartMap").children().length > 0) {
                } else {
                    if (!$("#overlay").is(':visible')) {
                        $("li.searchLink, li.googleLink, li.listingsLink, li.slideshowLink, a#showMobileMenuListings").removeClass("active");
                        $(this).addClass("active");
                        $('#searchButton').trigger("click", ["ce"]);
                    }
                }
            });
            $("li.bingLink").click(function (e) {
                e.preventDefault();
                useGoogleMap = false;
                $("#mapToggle li").removeClass("active");
                $("#smartMap").show();
                if ($(window).width() <= 800) {
                    hideMain();
                }
                if ($("#smartMap").children().length > 0) {
                    //alert('smartMap div already populated.');
                } else {
                    if (!$("#overlay").is(':visible')) {
                        // li.mapLink instead of li.googleLink?
                        $("li.searchLink, li.googleLink, li.listingsLink, li.slideshowLink, a#showMobileMenuListings").removeClass("active");
                        $(this).addClass("active");
                        $('#searchButton').trigger("click", ["ce"]);
                    }
                }
            });
            $('.searchButton').click(function (event, ce) {
                //alert('.searchButton');
                event.preventDefault();
                if (ce != 'ce') {
                    $("li.searchLink, li.mapLink, li.listingsLink, li.slideshowLink, a#showMobileMenuListings").removeClass("active");
                    if ($(window).width() <= 800) {
                        $("li.mapLink").addClass("active"); // We're forced to default to the map tab so tiles load.  Mobile users can't have the map on the same page with list because map scrolls instead of page, even when scroll turned off.
                    } else {
                        $("li.listingsLink").addClass("active");
                    }
                }
                $("#widgetTabs").show();
                submitPage();

                if ($(window).width() <= 800) {
                    // No effect because smartMap is shown again later when click is sent asynchronously to li.googleLink.  It's needed there to load the tiles.
                    $("#smartMap").hide();
                }

            });
            $('.searchLink').click(function (e) {
                $("#smartDirections").hide();
                e.preventDefault();
                $("#widgetTabs li").removeClass("active");
                //document.getElementById('resultsTop').scrollIntoView();
                //scrollToCopy($('#mainColumn')); // BUGBUG: Not actually scrolling the div yet.  But returns to top of page, so okay for now.  /base/events works correctly.

                scrollToCopy($('#mainColumn'), 94);
            });

            $("#placesCB").click(function () {
                if ($(this).is(':checked')) {
                    $('.slider-button').addClass('on').html('ON');
                    sliderValues['fbPlace'] = flag = 'on';
                    $.cookie('sliderValues', sliderValues);
                } else {
                    $('.slider-button').removeClass('on').html('OFF');
                    sliderValues['fbPlace'] = flag = 'off';
                    $.cookie('sliderValues', sliderValues);
                }
            });


            $("#buildingsCB").click(function () {
                if ($(this).is(':checked')) {
                    $("#sectionDimension").show();
                } else {
                    $("#sectionDimension").hide();
                }
            });
            $("#sectionManufacturers").hide();
            $("#manufacturersCB, #internationalCB").click(function () {
                if ($("#manufacturersCB").is(':checked') || $("#internationalCB").is(':checked')) {
                    $("#sectionManufacturers").show();
                } else {
                    $("#sectionManufacturers").hide();
                }
            });

            function submitPage() {
                //console.log("received");
                //event.preventDefault(); comment bcz event is not defined

                var fieldValue = '';
                var index = 0;

                var params = loadUrlValues();

                // Clear any values from the querystring so that they aren't included in the updated search.
                if (typeof (params.minsize) != 'undefined') {
                    delete params.minsize;
                }
                if (typeof (params.maxsize) != 'undefined') {
                    delete params.maxsize;
                }
                if (typeof (params.maxsize) != 'undefined') {
                    delete params.maxsize;
                }
                if (typeof (params.countyids) != 'undefined') {
                    delete params.countyids;
                }
                if (typeof (params.cities) != 'undefined') {
                    delete params.cities;
                }
                if (typeof (params.tid) != 'undefined') {
                    delete params.tid;
                }

                fieldValue = $('#minsize').val();
                if (fieldValue != '') {
                    params.minsize = fieldValue;
                }
                fieldValue = $('#maxsize').val();
                if (fieldValue != '') {
                    params.maxsize = fieldValue;
                }
                fieldValue = $('#ceiling').val();
                if (fieldValue != '') {
                    params.ceiling = fieldValue;
                }

                if (distanceSearchType == 'zip') {
                    params.zip = $('#zip').val();
                    params.distance = $("#distance").val();
                }
                else if (distanceSearchType == 'latlon') {
                    //params.lat = Number($("#lat").val()).toFixed(3).toString();
                    //params.lon = Number($("#lon").val()).toFixed(3).toString();
                    params.lat = $("#lat").val();
                    params.lon = $("#lon").val();
                    params.distance = $("#distance").val();
                }
                else {
                    fieldValue = $('#zip').val();
                    if (fieldValue != '') {
                        params.zip = fieldValue;
                    }
                }

                fieldValue = $('#countyids').val(); // multi-select
                if (fieldValue != null) {
                    index = fieldValue.indexOf("0");
                    if (index >= 0) {
                        fieldValue.splice(index, 1); // remove the default value if selected
                    }
                    if (fieldValue.length > 0) {
                        params.countyids = fieldValue.join(',');
                    }
                }
                fieldValue = $('#cities').val(); // multi-select
                if (fieldValue != null) {
                    index = fieldValue.indexOf("");
                    if (index >= 0) {
                        fieldValue.splice(index, 1); // remove the default value if selected
                    }
                    if (fieldValue.length > 0) {
                        params.cities = fieldValue.join(',');
                    }
                }

                params.tid = '';
                if ($('#buildingsCB').prop('checked')) {
                    params.tid += '16400,';
                }
                if ($('#manufacturersCB').prop('checked')) {
                    params.tid += '31030,';
                }
                if ($('#internationalCB').prop('checked')) {
                    params.tid += '30080,';
                }
                if (params.tid.length > 0) {
                    params.tid = params.tid.substr(0, params.tid.length - 1); // remove trailing comma
                }
                else if (!$('#placesCB').prop('checked')) { // Nothing checked
                    // If images tab is active, search for Available Buildings
                    if ($('.slideshowLink').hasClass("active")) {
                        $('#buildingsCB').prop('checked', true);
                        params.tid += "16400";
                    } else {
                        // Search for mfg companies.
                        $('#manufacturersCB').prop('checked', true);
                        $("#sectionManufacturers").show();
                        params.tid = "31030";
                    }
                }

                $('#sectionManufacturers input[type="checkbox"]:checked').each(function (index, item) {
                    if (typeof (params.naics) == 'undefined') {
                        params.naics = '';
                    }
                    params.naics += $(this).val();
                });

                fieldValue = $('#keywordsTB').val();
                if (fieldValue == 'Search') {
                    fieldValue = '';
                }
                if (fieldValue != '') {
                    params.keywords = fieldValue;
                }

                var feeds = [];
                var feed = null;

                feed = getLocationAndBuildingFeed(params);
                if (feed != null) {
                    feeds.push(feed);
                }

                if (sliderValues.fbPlace == 'on') {
                    feed = getFacebookFeed(params);
                    if (feed != null) {
                        feeds.push(feed);
                    }
                }

                $("#mySearch").hide();
                //$('#mainColumn').css('margin-top', '40px');
                $("#contentHolder").hide();
                $('#twoColumns').css('background', 'transparent');
                $("#mapColumn").show(); /* probably eliminate this line - but the width is messed up */
                //$("#smartMap").show();

                loadWidget(feeds);
            }



            function getLocationAndBuildingFeed(params) {
                var feed = null;
                var headerText = '';
                if (params.tid.length > 0) {
                    var typeIDs = params.tid.split(',');
                    var joinText = '';
                    if (typeIDs.length <= 2) {
                        if (typeIDs.length == 2) {
                            joinText = ' and ';
                        }
                        for (var index in typeIDs) {
                            if (typeIDs[index] == '16400') {
                                headerText += 'Available Buildings';
                            }
                            else if (typeIDs[index] == '31030') {
                                headerText += 'Manufacturers';
                            }
                            else if (typeIDs[index] == '30080') {
                                headerText += 'International Companies';
                            }
                            if (index < typeIDs.length - 1) {
                                headerText += joinText;
                            }
                        }
                    }
                    else {
                        // All 3 types are checked.
                        headerText = 'Available Buildings, Manufacturers, and International Companies';
                    }

                    var feedUrl = '/smart/api/itemfeed?dynamic=1';
                    var feedType = 'locations';
                    var detailsUrl = '/info/{0}?mode=a';
                    var detailsSelector = '#ItemInfoContentDiv';

                    //var feedUrl2 = 'calendar/json/google.txt';
                    //var feedType2 = 'events';
                    if (location.host == 'localhost') {
                        feedUrl = getLocalhostFeedUrl(feedUrl, 'http://georgiafacts.org', params);
                        detailsUrl = getLocalhostDetailsUrl(detailsUrl, 'http://georgiafacts.org', params);
                    }
                    else if ($.isEmptyObject(params) == false) {
                        feedUrl += feedUrl.indexOf('?') > 0 ? '&' : '?';
                        feedUrl += $.param(params);
                    }

                    feed = {
                        url: feedUrl,
                        type: feedType,
                        provider: '',
                        headerText: headerText,
                        className: '',
                        detailsUrl: detailsUrl,
                        detailsSelector: detailsSelector
                    };
                }

                return feed;
            }

            function getFacebookFeed(params) {
                var feed = null;

                if ($('#placesCB').prop('checked')) {

                    // if lat not entered default to 33.735
                    // if lon not entered default to -84.377
                    // if not miles not entered default to 3000 meters else convert miles to meters
                    var 
                    // Default to Georgia Capital
                        fblat = params.lat ? params.lat : '33.749',
                        fblon = params.lon ? params.lon : '-84.387',
                        fbdistance = params.distance ? +params.distance * 1609.344 : 3000, // if not miles not entered default to 3000 meters else convert miles to meters
                        fql_place_page = '{"q1": "SELECT checkin_count, content_age, description, display_subtext, geometry, is_city, is_unclaimed, latitude, longitude, name, page_id, pic, pic_big, pic_crop, pic_large, pic_small, pic_square, search_type, type, distance(latitude, longitude, \'' + fblat + '\', \'' + fblon + '\') FROM place WHERE distance(latitude, longitude, \'' + fblat + '\', \'' + fblon + '\') < \'' + (fbdistance > 50000 ? 50000 : fbdistance) + '\' AND type=\'PLACE\' ORDER BY distance(latitude, longitude, \'' + fblat + '\', \'' + fblon + '\')", "q2": "select page_id, location from page where page_id in (select page_id from #q1)"}';

                    feedUrlPlaces = 'https://graph.facebook.com/fql?q=' + encodeURIComponent(fql_place_page) + '&format=json&suppress_http_code=1&access_token=117370968285365%7C5XkqBE8fUp29ZaTRAMTmAAfCFvk',
		            console.log(feedUrlPlaces);
                    //feedUrlPlaces = 'https://graph.facebook.com/fql?q=SELECT%20checkin_count%2C%20content_age%2C%20description%2C%20display_subtext%2C%20geometry%2C%20is_city%2C%20is_unclaimed%2C%20latitude%2C%20longitude%2C%20name%2C%20page_id%2C%20pic%2C%20pic_big%2C%20pic_crop%2C%20pic_large%2C%20pic_small%2C%20pic_square%2C%20search_type%2C%20type%2C%20distance(latitude%2C%20longitude%2C%20%22' + fblat + '%22%2C%20%22' + fblon + '%22)%0AFROM%20place%0AWHERE%20distance(latitude%2C%20longitude%2C%20%22' + fblat + '%22%2C%20%22' + fblon + '%22)%20%3C%3D%20%22' + (fbdistance > 50000 ? 50000 :  fbdistance )+ '%22%0AAND%20type%3D%22PLACE%22%0AORDER%20BY%20distance(latitude%2C%20longitude%2C%20%22' + fblat + '%22%2C%20%22' + fblon + '%22)&format=json&suppress_http_code=1&access_token=117370968285365%7C5XkqBE8fUp29ZaTRAMTmAAfCFvk',
                    feedTypePlaces = 'places',
                    //console.log(feedUrlPlaces);


		            feed = {
		                url: feedUrlPlaces,
		                type: feedTypePlaces,
		                provider: 'Facebook',
		                className: '',
		                showFullDetailsLink: false
		            };
                }

                return feed;
            }

            function loadWidget(feeds) {
                if (feeds == null || feeds.length == 0) {
                    return;
                }

                var hasImages = false;

                var lat = parseFloat($("#lat").val());
                var lon = parseFloat($("#lon").val());
                if (isNaN(lat) || isNaN(lon) || lat < 0 || lon > 0) {
                    lat = 33.7490;  // default "206 Washington St Sw Atlanta, GA 30334, USA" location assumed
                    lon = -84.3892;
                }

                var options = {
                    showMenuIcon: false,
                    showVerticalMenu: false,
                    showListThumbnail: false,
                    updateBrowserHash: true,
                    bingMapPointX: 150,
                    googleMapPanbyX: 100,
                    latitude: lat != 0 ? lat : 0,
                    longitude: lon != 0 ? lon : 0,
                    useGoogleMap: useGoogleMap,

                    // Handle addedListItem event
                    addedListItem: function (event, data) {
                        if (data.item.images != null) {
                            hasImages = true;
                        }
                    },

                    beginLoadingFeeds: function (event, data) {
                        $('#overlay').show().css('height', $('document').height()).html("Loading Items...");
                    },
                    loadedFeed: function (event, data) {
                        var feed = data.feed;
                        if (feed.headerText != '') {
                            $('#overlay').html("Loading " + feed.headerText + "...");
                        }
                        else {
                            if (feed.type == 'locations') {
                                $('#overlay').html("Loading Locations...");
                            } else if (feed.type == 'events') {
                                $('#overlay').html("Loading Events...");
                            } else if (feed.type == 'organizations') {
                                $('#overlay').html("Loading Organizations...");
                            } else if (feed.type == 'places') {
                                $('#overlay').html("Loading Places...");
                            }
                            else {
                                $('#overlay').html("Loading Items...");
                            }
                        }
                    },
                    endLoadingFeeds: function (event, data) {
                        $('#overlay').hide();
                        $('.slideshowLink').toggle(hasImages);
                    }
                };

                options.feeds = feeds;

                widget = $('#smartWidget').smartWidget(options);

                /*
                8. If the feed takes more than 10 seconds to load, append "Initiating App." below the "Loading Data Feed..." text.  If another 10 seconds passes, append "Almost Done." on the same line.  If an additional 15 seconds passes, display "Sorry for the delay. Requesting feed again."  Wait 2 seconds then reinitiate that feed.
                */
                setTimeout(function () {
                    if (flgFeedLoaded == false) {
                        $("#overlay").append('<br/>Initiating App. ');
                    }
                }, 11000);

                setTimeout(function () {
                    if (flgFeedLoaded == false) {
                        $("#overlay").append('Almost Done. ');
                    }
                }, 21000);

                setTimeout(function () {
                    if (flgFeedLoaded == false) {
                        $("#overlay").html('Sorry for the delay. Requesting feed again. ');
                    }

                    setTimeout(function () {
                        if (flgFeedLoaded == false) {
                            $("#overlay").html('Loading Data Feed...');
                            submitPage();
                        }
                    }, 2000);
                }, 36000);
            }
            var previousWidth = 1000;
            function updateLayout() {
                var browserWidth = $(window).width();
                if (browserWidth <= 800 && previousWidth > 800) {
                    fixSmartTop();
                    $("#smartTop").css({'width':'100%'});
                    $('#smartMap').insertAfter($('#mapInMain'));
                    $('#closeSmartSearch').hide(); /* since shown using script */
                    $('#mainColumn').show();
                    if (!$('.mapLink').hasClass("active")) {
                        // Neither
                        $(".smartMap").hide();
                        $("#smartMap").hide();
                    }
                } else if (browserWidth > 800 && previousWidth <= 800) {
                    //$("body").css({'margin-top':'0px'});
                    $("#smartMap").show();
                    $('#smartMap').insertAfter($('#scrolleranchor'));
                    //$("#mapColumn").show(); // No effect. Map still gone when resizing large.  Remove.
                    feedScroll(); // Also checks up-down position.
                }
                previousWidth = $(window).width();
            }
            $(window).resize(function (e) {
                // Maybe add a delay between calls
                updateLayout();
            });

        });
        
        function checkUncheckPlacesCB(flag) {
            //console.log(flag);
            if(flag === 'on') {
                $(".placesSelect").show();
                $('#placesCB').prop( "checked", true );
            } else {
                $(".placesSelect").hide();
                $('#placesCB').prop( "checked", false );
            }
       }

                    
        function setTabBackgroudColor(onload) {
        
            if($('#buildingsCB').is(':checked')) {
                
                $('#buildingsTab').addClass('menuTabBgColor');
            } else {
                $('#buildingsTab').removeClass('menuTabBgColor');
                 
            }
            
            if($('#manufacturersCB').is(':checked')) {
                $('#manufacturersTab').addClass('menuTabBgColor');
            } else {
                $('#manufacturersTab').removeClass('menuTabBgColor');
            }
            
            if($('#internationalCB').is(':checked')) {
                $('#internationalTab').addClass('menuTabBgColor');
            } else {
                $('#internationalTab').removeClass('menuTabBgColor');
            }
            
            /*
            if(&& $('#placesCB').is(':checked')) {
                $('#countiesTab').addClass('menuTabBgColor');
            } else {
                $('#countiesTab').removeClass('menuTabBgColor');
            }
            */
        }
        function SearchEnter(event1) {
            var kCode = String.fromCharCode(event1.keyCode);
            if (kCode == "\n" || kCode == "\r") {
                submitPage();
                return false;
            }
        }
        function SearchFormValidate(f) {
            if (f.query.value == "" || f.query.value == "Search") {
                alert("Please enter a search term.");
                f.query.focus();
                return false;
            }
            else return true;
        }
        function SearchFormTextCheck(t, dirn) {
            if (dirn == 1 && t.value == "Search") t.value = "";
            //if (dirn == 0 && t.value == "") t.value = "Search";
        }
        
    </script>

</body>
</html>
